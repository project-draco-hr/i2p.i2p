{
  System.err.println(MARKER + this + " starter thread");
  NativeBigInteger.main(null);
  RouterLaunch.main(null);
synchronized (_stateLock) {
    if (_state != STATE_STARTING)     return;
    _state=STATE_RUNNING;
    List contexts=RouterContext.listContexts();
    if ((contexts == null) || (contexts.isEmpty()))     throw new IllegalStateException("No contexts. This is usually because the router is either starting up or shutting down.");
    _statusBar.update("I2P is running");
    _context=(RouterContext)contexts.get(0);
    _context.router().setKillVMOnEnd(false);
    _context.addShutdownTask(new ShutdownHook());
    _starterThread=null;
  }
  System.err.println("Router.main finished");
}
