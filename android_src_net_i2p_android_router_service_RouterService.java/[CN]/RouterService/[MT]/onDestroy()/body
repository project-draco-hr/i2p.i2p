{
  System.err.println("onDestroy called" + "Current state is: " + _state);
synchronized (_stateLock) {
    if (_state == STATE_STARTING)     _starterThread.interrupt();
    if (_state == STATE_STARTING || _state == STATE_RUNNING) {
      _state=STATE_STOPPING;
      _statusBar.update("I2P is stopping");
      Thread stopperThread=new Thread(new Stopper());
      stopperThread.start();
    }
 else     if (_state != STATE_STOPPING) {
      _statusBar.off(this);
    }
  }
}
