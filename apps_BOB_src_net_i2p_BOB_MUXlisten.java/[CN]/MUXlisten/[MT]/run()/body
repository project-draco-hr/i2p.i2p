{
  tg=new ThreadGroup(N);
  info.add("RUNNING",Boolean.TRUE);
  info.add("STARTING",Boolean.FALSE);
  if (info.exists("OUTPORT")) {
    I2Plistener conn=new I2Plistener(socketManager,info,_log);
    Thread t=new Thread(tg,conn,"BOBI2Plistener " + N);
    t.start();
  }
  if (info.exists("INPORT")) {
    TCPlistener conn=new TCPlistener(socketManager,info,_log);
    Thread q=new Thread(tg,conn,"BOBTCPlistener" + N);
    q.start();
  }
  while (info.get("STOPPING").equals(Boolean.FALSE)) {
    try {
      Thread.sleep(1000);
    }
 catch (    InterruptedException e) {
    }
  }
  info.add("RUNNING",Boolean.FALSE);
  while (tg.activeCount() + tg.activeGroupCount() != 0) {
    try {
      Thread.sleep(1000);
    }
 catch (    InterruptedException ex) {
    }
  }
  socketManager.destroySocketManager();
  tg.destroy();
  tg=null;
  info.add("STOPPING",Boolean.FALSE);
  info.add("STARTING",Boolean.FALSE);
}
