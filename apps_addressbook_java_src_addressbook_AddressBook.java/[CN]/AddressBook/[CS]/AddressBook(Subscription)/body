{
  this.location=subscription.getLocation();
  try {
    URL url=new URL(subscription.getLocation());
    HttpURLConnection connection=(HttpURLConnection)url.openConnection();
    if (subscription.getEtag() != null) {
      connection.addRequestProperty("If-None-Match",subscription.getEtag());
    }
    if (subscription.getLastModified() != null) {
      connection.addRequestProperty("If-Modified-Since",subscription.getLastModified());
    }
    connection.connect();
    if (connection.getResponseCode() == HttpURLConnection.HTTP_NOT_MODIFIED) {
      connection.disconnect();
      this.addresses=new HashMap();
      return;
    }
    if (connection.getHeaderField("ETag") != null) {
      subscription.setEtag(connection.getHeaderField("ETag"));
    }
    if (connection.getHeaderField("Last-Modified") != null) {
      subscription.setLastModified(connection.getHeaderField("Last-Modified"));
    }
  }
 catch (  IOException exp) {
  }
  try {
    this.addresses=ConfigParser.parse(new URL(subscription.getLocation()));
  }
 catch (  IOException exp) {
    this.addresses=new HashMap();
  }
}
