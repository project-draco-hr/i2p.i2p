{
  File masterFile=new File(home,(String)settings.get("master_addressbook"));
  File routerFile=new File(home,(String)settings.get("router_addressbook"));
  File published=null;
  if ("true".equals(settings.get("should_publish")))   published=new File(home,(String)settings.get("published_addressbook"));
  File subscriptionFile=new File(home,(String)settings.get("subscriptions"));
  File logFile=new File(home,(String)settings.get("log"));
  File etagsFile=new File(home,(String)settings.get("etags"));
  File lastModifiedFile=new File(home,(String)settings.get("last_modified"));
  AddressBook master=new AddressBook(masterFile);
  AddressBook router=new AddressBook(routerFile);
  List defaultSubs=new LinkedList();
  defaultSubs.add("http://i2p/NF2RLVUxVulR3IqK0sGJR0dHQcGXAzwa6rEO4WAWYXOHw-DoZhKnlbf1nzHXwMEJoex5nFTyiNMqxJMWlY54cvU~UenZdkyQQeUSBZXyuSweflUXFqKN-y8xIoK2w9Ylq1k8IcrAFDsITyOzjUKoOPfVq34rKNDo7fYyis4kT5bAHy~2N1EVMs34pi2RFabATIOBk38Qhab57Umpa6yEoE~rbyR~suDRvD7gjBvBiIKFqhFueXsR2uSrPB-yzwAGofTXuklofK3DdKspciclTVzqbDjsk5UXfu2nTrC1agkhLyqlOfjhyqC~t1IXm-Vs2o7911k7KKLGjB4lmH508YJ7G9fLAUyjuB-wwwhejoWqvg7oWvqo4oIok8LG6ECR71C3dzCvIjY2QcrhoaazA9G4zcGMm6NKND-H4XY6tUWhpB~5GefB3YczOqMbHq4wi0O9MzBFrOJEOs3X4hwboKWANf7DT5PZKJZ5KorQPsYRSq0E3wSOsFCSsdVCKUGsAAAA/i2p/hosts.txt");
  SubscriptionList subscriptions=new SubscriptionList(subscriptionFile,etagsFile,lastModifiedFile,defaultSubs,(String)settings.get("proxy_host"),Integer.parseInt((String)settings.get("proxy_port")));
  Log log=new Log(logFile);
  update(master,router,published,subscriptions,log);
}
