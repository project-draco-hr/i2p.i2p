{
  File masterFile=new File(home,(String)settings.get("master_addressbook"));
  File routerFile=new File(home,(String)settings.get("router_addressbook"));
  File published=new File(home,(String)settings.get("published_addressbook"));
  File subscriptionFile=new File(home,(String)settings.get("subscriptions"));
  File logFile=new File(home,(String)settings.get("log"));
  File etagsFile=new File(home,(String)settings.get("etags"));
  File lastModifiedFile=new File(home,(String)settings.get("last_modified"));
  AddressBook master=new AddressBook(masterFile);
  AddressBook router=new AddressBook(routerFile);
  SubscriptionList subscriptions=new SubscriptionList(subscriptionFile,etagsFile,lastModifiedFile);
  Log log=new Log(logFile);
  Daemon.update(master,router,published,subscriptions,log);
}
