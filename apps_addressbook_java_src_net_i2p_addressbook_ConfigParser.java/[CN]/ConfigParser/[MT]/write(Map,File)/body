{
  File tmp=SecureFile.createTempFile("hoststxt-",".tmp",file.getAbsoluteFile().getParentFile());
  ConfigParser.write(map,new BufferedWriter(new OutputStreamWriter(new SecureFileOutputStream(tmp),"UTF-8")));
  boolean success=tmp.renameTo(file);
  if (!success) {
    System.out.println("Warning: addressbook rename fail from " + tmp + " to "+ file);
    tmp.delete();
    ConfigParser.write(map,new BufferedWriter(new OutputStreamWriter(new SecureFileOutputStream(file),"UTF-8")));
  }
}
