{
  ArrayList sortedSessions;
  if (sortByDuration) {
    sortedSessions=sortSessionsByDuration(calculateSessionDurations(sortSessionsByTime(readLogfile(logfile))));
    formatAndOutputByDuration(sortedSessions);
  }
 else {
    sortedSessions=calculateSessionDurations(sortSessionsByQuitReason(sortSessionsByNick(sortSessionsByTime(readLogfile(logfile)))));
    formatAndOutput(sortedSessions);
  }
}
