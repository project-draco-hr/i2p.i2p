{
  boolean wasHeadless=Boolean.valueOf(System.getProperty("java.awt.headless")).booleanValue();
  if (wasHeadless) {
    System.setProperty("java.awt.headless","false");
  }
  boolean headless_check=true;
  try {
    GraphicsEnvironment ge=GraphicsEnvironment.getLocalGraphicsEnvironment();
    headless_check=ge.isHeadlessInstance();
  }
 catch (  Throwable t) {
  }
  if (wasHeadless)   System.setProperty("java.awt.headless","true");
  if (headless_check) {
    return;
  }
  try {
    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());
  }
 catch (  ClassNotFoundException ex) {
    log.log(Log.ERROR,null,ex);
  }
catch (  InstantiationException ex) {
    log.log(Log.ERROR,null,ex);
  }
catch (  IllegalAccessException ex) {
    log.log(Log.ERROR,null,ex);
  }
catch (  UnsupportedLookAndFeelException ex) {
    log.log(Log.ERROR,null,ex);
  }
  ConfigurationManager.getInstance().loadArguments(args);
  final Main main=new Main();
  main.launchForeverLoop();
  SwingUtilities.invokeLater(new Runnable(){
    @Override public void run(){
      try {
        main.startUp();
      }
 catch (      Exception e) {
        log.error("Failed while running desktopgui!",e);
      }
    }
  }
);
}
