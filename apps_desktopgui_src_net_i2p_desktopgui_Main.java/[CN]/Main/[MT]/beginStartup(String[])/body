{
  try {
    String headless=System.getProperty("java.awt.headless");
    boolean isHeadless=Boolean.parseBoolean(headless);
    if (isHeadless) {
      log.warn("Headless environment: not starting desktopgui!");
      return;
    }
  }
 catch (  Exception e) {
    return;
  }
  try {
    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());
  }
 catch (  ClassNotFoundException ex) {
    log.log(Log.ERROR,null,ex);
  }
catch (  InstantiationException ex) {
    log.log(Log.ERROR,null,ex);
  }
catch (  IllegalAccessException ex) {
    log.log(Log.ERROR,null,ex);
  }
catch (  UnsupportedLookAndFeelException ex) {
    log.log(Log.ERROR,null,ex);
  }
  ConfigurationManager.getInstance().loadArguments(args);
  final Main main=new Main();
  main.launchForeverLoop();
  SwingUtilities.invokeLater(new Runnable(){
    @Override public void run(){
      try {
        main.startUp();
      }
 catch (      Exception e) {
        log.error("Failed while running desktopgui!",e);
      }
    }
  }
);
}
