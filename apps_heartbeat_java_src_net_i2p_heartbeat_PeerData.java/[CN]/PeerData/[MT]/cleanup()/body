{
  long dropBefore=Clock.getInstance().now() - _peer.getStatDuration() * 60 * 1000;
  long timeoutBefore=Clock.getInstance().now() - TIMEOUT_PERIOD;
  long numDropped=0;
  long numTimedOut=0;
synchronized (_updateLock) {
    numDropped=locked_dropExpired(dropBefore);
    numTimedOut=locked_timeoutPending(timeoutBefore);
  }
  _lostRate.addData(numTimedOut,0);
  _receiveRate.coallesceStats();
  _sendRate.coallesceStats();
  _lostRate.coallesceStats();
  if (_log.shouldLog(Log.DEBUG))   _log.debug("Peer data cleaned up " + numTimedOut + " timed out pings and removed "+ numDropped+ " old entries");
}
