{
  if (data.getDataPointCount() <= 0)   return;
  PeerData.EventDataPoint start=(PeerData.EventDataPoint)data.getDataPoints().get(0);
  PeerData.EventDataPoint finish=(PeerData.EventDataPoint)data.getDataPoints().get(data.getDataPointCount() - 1);
  List configs=config.getAverageSeriesConfigs();
  for (int i=0; i < configs.size(); i++) {
    PeerPlotConfig.PlotSeriesConfig cfg=(PeerPlotConfig.PlotSeriesConfig)configs.get(i);
    int minutes=(int)cfg.getPeriod() / (60 * 1000);
    if (cfg.getPlotSendTime()) {
      double time=data.getAverageSendTime(minutes);
      if (time > 0) {
        XYSeries series=new XYSeries(lineName + " send " + minutes+ "m avg ["+ time+ "]",false,false);
        series.add(start.getPingSent(),time);
        series.add(finish.getPingSent(),time);
        series.setDescription("send time, averaged over the last " + minutes + " minutes");
        col.addSeries(series);
      }
    }
    if (cfg.getPlotReceiveTime()) {
      double time=data.getAverageReceiveTime(minutes);
      if (time > 0) {
        XYSeries series=new XYSeries(lineName + " receive " + minutes+ "m avg["+ time+ "]",false,false);
        series.add(start.getPingSent(),time);
        series.add(finish.getPingSent(),time);
        series.setDescription("receive time, averaged over the last " + minutes + " minutes");
        col.addSeries(series);
      }
    }
    if (cfg.getPlotLostMessages()) {
      double num=data.getLostMessages(minutes);
      if (num > 0) {
        XYSeries series=new XYSeries(lineName + " lost messages (" + num+ " in "+ minutes+ "m)",false,false);
        series.add(start.getPingSent(),num);
        series.add(finish.getPingSent(),num);
        series.setDescription("number of messages lost in the last " + minutes + " minutes");
        col.addSeries(series);
      }
    }
  }
}
