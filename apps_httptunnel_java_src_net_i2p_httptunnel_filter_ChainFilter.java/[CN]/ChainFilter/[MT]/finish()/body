{
  try {
    byte[] buf=EMPTY;
    for (Iterator it=filters.iterator(); it.hasNext(); ) {
      Filter f=(Filter)it.next();
      ByteArrayOutputStream baos=new ByteArrayOutputStream();
      if (buf.length != 0) {
        baos.write(f.filter(buf));
      }
      baos.write(f.finish());
      buf=baos.toByteArray();
    }
    return buf;
  }
 catch (  IOException ex) {
    _log.error("Error chaining filters",ex);
    return EMPTY;
  }
}
