{
  if (!(packetToStore instanceof IndexPacket))   throw new IllegalArgumentException("This class only stores packets of type " + IndexPacket.class.getSimpleName() + ".");
  IndexPacket indexPacketToStore=(IndexPacket)packetToStore;
  DhtStorablePacket existingPacket=retrieve(packetToStore.getDhtKey());
  if (existingPacket instanceof IndexPacket) {
    packetToStore=new IndexPacket(indexPacketToStore,(IndexPacket)existingPacket);
    if (packetToStore.isTooBig())     log.error("After merging, IndexPacket is too big for a datagram: size=" + packetToStore.getSize());
  }
  super.store(packetToStore);
}
