{
  log.debug("Bootstrap start");
  while (true) {
    for (    KademliaPeer bootstrapNode : initialPeers) {
      bootstrapNode.setLastReception(-1);
      bucketManager.addOrUpdate(bootstrapNode);
      Collection<Destination> closestNodes=getClosestNodes(localDestinationHash);
      if (bootstrapNode.getLastReception() <= 0)       bucketManager.remove(bootstrapNode);
      if (closestNodes.isEmpty()) {
        log.debug("No response from bootstrap node " + bootstrapNode);
        bucketManager.remove(bootstrapNode);
      }
 else {
        bucketManager.refreshAll();
        log.info("Bootstrapping finished. Number of peers = " + bucketManager.getPeerCount());
        return;
      }
    }
    log.warn("Can't bootstrap off any known peer, will retry shortly.");
    try {
      TimeUnit.MINUTES.sleep(1);
    }
 catch (    InterruptedException e) {
      log.error("Interrupted while pausing after unsuccessful bootstrap attempt.",e);
    }
  }
}
