{
  InputStream inputStream=null;
  try {
    inputStream=new FileInputStream(file);
    DataPacket packet=createPacket(Util.readInputStream(inputStream));
    return packet;
  }
 catch (  IOException e) {
    log.error("Can't read packet file: " + file.getAbsolutePath(),e);
    return null;
  }
 finally {
    try {
      inputStream.close();
    }
 catch (    IOException e) {
      log.error("Can't close stream.",e);
    }
  }
}
