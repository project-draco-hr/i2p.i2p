{
  char packetTypeCode=(char)data[0];
  Class<? extends I2PBotePacket> packetType=decodePacketTypeCode(packetTypeCode);
  if (packetType == null || !DataPacket.class.isAssignableFrom(packetType)) {
    log.error("Type code is not a DataPacket type code: <" + packetTypeCode + ">");
    return null;
  }
  Class<? extends DataPacket> dataPacketType=packetType.asSubclass(DataPacket.class);
  try {
    return dataPacketType.getConstructor(byte[].class).newInstance(data);
  }
 catch (  Exception e) {
    log.warn("Can't instantiate packet for type code <" + packetTypeCode + ">",e);
    return null;
  }
}
