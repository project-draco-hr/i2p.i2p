{
  ByteBuffer buffer=ByteBuffer.wrap(data);
  if (buffer.get() != getPacketTypeCode())   log.error("Wrong type code for EmailPacket. Expected <" + getPacketTypeCode() + ">, got <"+ (char)data[0]+ ">");
  dhtKey=readHash(buffer);
  deletionKeyPlain=new UniqueId(buffer);
  int encryptedLength=buffer.getShort();
  encryptedData=new byte[encryptedLength];
  buffer.get(encryptedData);
}
