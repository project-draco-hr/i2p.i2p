{
  ByteArrayOutputStream byteArrayStream=new ByteArrayOutputStream();
  DataOutputStream dataStream=new DataOutputStream(byteArrayStream);
  try {
    dataStream.write((byte)getPacketTypeCode());
    dataStream.write(dhtKey.toByteArray());
    dataStream.write(deletionKeyPlain.toByteArray());
    dataStream.writeShort(encryptedData.length);
    dataStream.write(encryptedData);
  }
 catch (  IOException e) {
    log.error("Can't write to ByteArrayOutputStream.",e);
  }
  return byteArrayStream.toByteArray();
}
