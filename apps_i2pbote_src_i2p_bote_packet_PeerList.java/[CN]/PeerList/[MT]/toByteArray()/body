{
  ByteArrayOutputStream arrayOutputStream=new ByteArrayOutputStream();
  DataOutputStream dataStream=new DataOutputStream(arrayOutputStream);
  try {
    dataStream.write((byte)getPacketTypeCode());
    dataStream.writeShort(peers.size());
    for (    KademliaPeer peer : peers)     dataStream.write(peer.getDestination().toByteArray());
  }
 catch (  IOException e) {
    log.error("Can't write to ByteArrayOutputStream.",e);
  }
  return arrayOutputStream.toByteArray();
}
