{
  if (!isCheckingForMail()) {
    EXECUTOR=Executors.newFixedThreadPool(MAX_THREADS,MAIL_CHECK_THREAD_FACTORY);
    I2PBote bote=I2PBote.getInstance();
    for (    EmailIdentity identity : bote.getIdentities())     EXECUTOR.submit(bote.createCheckMailTask(identity));
    EXECUTOR.shutdown();
    try {
      EXECUTOR.awaitTermination(1,TimeUnit.DAYS);
    }
 catch (    InterruptedException e) {
      log.error("Interrupted while checking for mail.",e);
      EXECUTOR.shutdownNow();
    }
  }
}
