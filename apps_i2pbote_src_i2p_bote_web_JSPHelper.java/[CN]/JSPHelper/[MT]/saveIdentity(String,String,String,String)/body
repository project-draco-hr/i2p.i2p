{
  Identities identities=JSPHelper.getIdentities();
  EmailIdentity identity=identities.get(key);
  if (identity != null) {
    identity.setPublicName(publicName);
    identity.setDescription(description);
    identity.setEmailAddress(emailAddress);
  }
 else {
    identity=new EmailIdentity();
    identity.setPublicName(publicName);
    identity.setDescription(description);
    identity.setEmailAddress(emailAddress);
    identities.add(identity);
  }
  try {
    identities.save();
    return null;
  }
 catch (  IOException e) {
    return e.getLocalizedMessage();
  }
}
