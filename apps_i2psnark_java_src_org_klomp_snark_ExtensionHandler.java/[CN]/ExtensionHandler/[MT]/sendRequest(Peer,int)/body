{
  Map<String,Object> map=new HashMap();
  map.put("msg_type",TYPE_REQUEST);
  map.put("piece",Integer.valueOf(piece));
  byte[] payload=BEncoder.bencode(map);
  try {
    int hisMsgCode=peer.getHandshakeMap().get("m").getMap().get(TYPE_METADATA).getInt();
    peer.sendExtension(hisMsgCode,payload);
  }
 catch (  Exception e) {
    if (_log.shouldLog(Log.WARN))     _log.info("Metadata send req msg exception to " + peer,e);
  }
}
