{
  boolean removed=false;
synchronized (sendQueue) {
    Iterator<Message> it=sendQueue.iterator();
    while (it.hasNext()) {
      Message m=it.next();
      if (m.type == type) {
        it.remove();
        removed=true;
      }
    }
    sendQueue.notifyAll();
  }
  return removed;
}
