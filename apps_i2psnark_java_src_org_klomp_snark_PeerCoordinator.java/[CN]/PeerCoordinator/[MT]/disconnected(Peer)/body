{
  if (Snark.debug >= Snark.INFO)   Snark.debug("Disconnected " + peer,Snark.INFO);
synchronized (peers) {
    if (peers.remove(peer)) {
      unchokePeer();
synchronized (wantedPieces) {
        for (Iterator iter=wantedPieces.iterator(); iter.hasNext(); ) {
          Piece piece=(Piece)iter.next();
          piece.removePeer(peer);
        }
      }
    }
  }
  if (listener != null)   listener.peerChange(this,peer);
}
