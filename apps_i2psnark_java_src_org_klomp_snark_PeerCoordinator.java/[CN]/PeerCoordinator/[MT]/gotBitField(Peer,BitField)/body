{
  if (listener != null)   listener.peerChange(this,peer);
synchronized (wantedPieces) {
    Iterator it=wantedPieces.iterator();
    while (it.hasNext()) {
      Piece p=(Piece)it.next();
      int i=p.getId();
      if (bitfield.get(i)) {
        p.addPeer(peer);
        return true;
      }
    }
  }
  return false;
}
