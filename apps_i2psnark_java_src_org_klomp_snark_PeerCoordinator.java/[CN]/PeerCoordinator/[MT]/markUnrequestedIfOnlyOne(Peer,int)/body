{
  for (  Peer p : peers) {
    if (p.equals(peer))     continue;
    if (p.state == null)     continue;
    if (p.state.getRequestedPieces().contains(Integer.valueOf(piece))) {
      if (_log.shouldLog(Log.DEBUG))       _log.debug("Another peer is requesting piece " + piece);
      return;
    }
  }
synchronized (wantedPieces) {
    for (    Piece pc : wantedPieces) {
      if (pc.getId() == piece) {
        pc.setRequested(false);
        if (_log.shouldLog(Log.DEBUG))         _log.debug("Removing from request list piece " + piece);
        return;
      }
    }
  }
}
