{
  for (int i=RATE_DEPTH - 1; i > 0; i--) {
    uploaded_old[i]=uploaded_old[i - 1];
    downloaded_old[i]=downloaded_old[i - 1];
  }
  uploaded_old[0]=up;
  downloaded_old[0]=down;
}
