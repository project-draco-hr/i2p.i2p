{
  String i2cpHost=_config.getProperty(PROP_I2CP_HOST);
  int i2cpPort=getInt(PROP_I2CP_PORT,7654);
  String opts=_config.getProperty(PROP_I2CP_OPTS);
  Map i2cpOpts=new HashMap();
  if (opts != null) {
    StringTokenizer tok=new StringTokenizer(opts," ");
    while (tok.hasMoreTokens()) {
      String pair=tok.nextToken();
      int split=pair.indexOf('=');
      if (split > 0)       i2cpOpts.put(pair.substring(0,split),pair.substring(split + 1));
    }
  }
  if (i2cpHost != null) {
    I2PSnarkUtil.instance().setI2CPConfig(i2cpHost,i2cpPort,i2cpOpts);
    _log.debug("Configuring with I2CP options " + i2cpOpts);
  }
  String eepHost=_config.getProperty(PROP_EEP_HOST);
  int eepPort=getInt(PROP_EEP_PORT,4444);
  if (eepHost != null)   I2PSnarkUtil.instance().setProxy(eepHost,eepPort);
  I2PSnarkUtil.instance().setMaxUploaders(getInt(PROP_UPLOADERS_TOTAL,Snark.MAX_TOTAL_UPLOADERS));
  getDataDir().mkdirs();
}
