{
  Set<String> files=_manager.listTorrentFiles();
  TreeSet<String> fileNames=new TreeSet(new TorrentNameComparator());
  fileNames.addAll(files);
  ArrayList<Snark> rv=new ArrayList(fileNames.size());
  int magnet=0;
  for (Iterator iter=fileNames.iterator(); iter.hasNext(); ) {
    String name=(String)iter.next();
    Snark snark=_manager.getTorrent(name);
    if (snark != null) {
      if (snark.getStorage() == null)       rv.add(magnet++,snark);
 else       rv.add(snark);
    }
  }
  return rv;
}
