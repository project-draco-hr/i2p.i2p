{
  String icon;
  String plc=path.toLowerCase(Locale.US);
  String mime=getServletContext().getMimeType(path);
  if (mime == null)   mime="";
  if (mime.equals("text/html"))   icon="html";
 else   if (mime.equals("text/plain") || plc.endsWith(".nfo") || mime.equals("application/rtf"))   icon="page";
 else   if (mime.equals("application/java-archive") || plc.endsWith(".war") || plc.endsWith(".deb"))   icon="package";
 else   if (plc.endsWith(".xpi2p"))   icon="plugin";
 else   if (mime.equals("application/pdf"))   icon="page_white_acrobat";
 else   if (mime.startsWith("image/") || plc.endsWith(".ico"))   icon="photo";
 else   if (mime.startsWith("audio/") || mime.equals("application/ogg") || plc.endsWith(".flac")|| plc.endsWith(".m4a")|| plc.endsWith(".wma")|| plc.endsWith(".ape")|| plc.endsWith(".oga"))   icon="music";
 else   if (mime.startsWith("video/") || plc.endsWith(".mkv") || plc.endsWith(".m4v")|| plc.endsWith(".mp4")|| plc.endsWith(".wmv")|| plc.endsWith(".flv")|| plc.endsWith(".ogm")|| plc.endsWith(".ogv"))   icon="film";
 else   if (mime.equals("application/zip") || mime.equals("application/x-gtar") || mime.equals("application/compress")|| mime.equals("application/gzip")|| mime.equals("application/x-tar")|| plc.endsWith(".rar")|| plc.endsWith(".bz2")|| plc.endsWith(".7z"))   icon="compress";
 else   if (plc.endsWith(".exe"))   icon="application";
 else   if (plc.endsWith(".iso"))   icon="cd";
 else   icon="page_white";
  return icon;
}
