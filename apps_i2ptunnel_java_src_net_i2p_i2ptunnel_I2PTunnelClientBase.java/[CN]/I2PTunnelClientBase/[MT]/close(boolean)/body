{
  if (!open)   return true;
synchronized (sockLock) {
    mySockets.retainAll(sockMgr.listSockets());
    if (!forced && mySockets.size() != 0) {
      l.log("There are still active connections!");
      _log.debug("can't close: there are still active connections!");
      for (Iterator it=mySockets.iterator(); it.hasNext(); ) {
        l.log("->" + it.next());
      }
      return false;
    }
    l.log("Closing client " + toString());
    try {
      if (ss != null)       ss.close();
    }
 catch (    IOException ex) {
      ex.printStackTrace();
      return false;
    }
    l.log("Client closed.");
    open=false;
    return true;
  }
}
