{
  Log _log=getTunnel().getContext().logManager().getLog(I2PTunnelClientBase.class);
  Logging log=this.l;
  int retries=0;
  while (sockMgr.getSession().isClosed()) {
    try {
      sockMgr.getSession().connect();
    }
 catch (    I2PSessionException ise) {
      String portNum=getTunnel().port;
      if (portNum == null)       portNum="7654";
      String msg="Unable to connect to the router at " + getTunnel().host + ':'+ portNum+ " and build tunnels for the client";
      if (++retries < MAX_RETRIES) {
        if (log != null)         log.log(msg + ", retrying in " + (RETRY_DELAY / 1000)+ " seconds");
        _log.error(msg + ", retrying in " + (RETRY_DELAY / 1000)+ " seconds");
      }
 else {
        if (log != null)         log.log(msg + ", giving up");
        _log.log(Log.CRIT,msg + ", giving up");
        throw new IllegalArgumentException(msg);
      }
      try {
        Thread.sleep(RETRY_DELAY);
      }
 catch (      InterruptedException ie) {
      }
    }
  }
}
