{
  if (socketManager != null) {
    I2PSession s=socketManager.getSession();
    if ((s == null) || (s.isClosed())) {
      _log.info("Building a new socket manager since the old one closed [s=" + s + "]");
      if (s != null)       tunnel.removeSession(s);
      socketManager=buildSocketManager(tunnel,pkf);
    }
 else {
      _log.info("Not building a new socket manager since the old one is open [s=" + s + "]");
    }
  }
 else {
    _log.info("Building a new socket manager since there is no other one");
    socketManager=buildSocketManager(tunnel,pkf);
  }
  return socketManager;
}
