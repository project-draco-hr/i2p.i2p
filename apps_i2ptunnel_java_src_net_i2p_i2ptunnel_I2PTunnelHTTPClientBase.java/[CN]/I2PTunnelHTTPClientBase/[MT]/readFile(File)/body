{
  FileInputStream fis=null;
  byte[] buf=new byte[2048];
  ByteArrayOutputStream baos=new ByteArrayOutputStream(2048);
  try {
    int len=0;
    fis=new FileInputStream(file);
    while ((len=fis.read(buf)) > 0) {
      baos.write(buf,0,len);
    }
    return baos.toByteArray();
  }
  finally {
    try {
      if (fis != null) {
        fis.close();
      }
    }
 catch (    IOException foo) {
    }
  }
}
