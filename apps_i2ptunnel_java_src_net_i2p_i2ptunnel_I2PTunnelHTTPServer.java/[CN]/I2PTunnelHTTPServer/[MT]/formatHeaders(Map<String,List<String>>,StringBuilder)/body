{
  StringBuilder buf=new StringBuilder(command.length() + headers.size() * 64);
  buf.append(command.toString().trim()).append("\r\n");
  for (Iterator<String> iter=headers.keySet().iterator(); iter.hasNext(); ) {
    String name=(String)iter.next();
    for (    String val : headers.get(name)) {
      buf.append(name.trim()).append(": ").append(val.trim()).append("\r\n");
    }
  }
  buf.append("\r\n");
  return buf.toString();
}
