{
  if (!open)   return true;
  if (task != null) {
    task.close(forced);
  }
synchronized (lock) {
    if (!forced && sockMgr.listSockets().size() != 0) {
      l.log("There are still active connections!");
      for (Iterator it=sockMgr.listSockets().iterator(); it.hasNext(); ) {
        l.log("->" + it.next());
      }
      return false;
    }
    l.log("Stopping tunnels for server at " + getTunnel().listenHost + ':'+ this.remotePort);
    try {
      if (i2pss != null)       i2pss.close();
      getTunnel().removeSession(sockMgr.getSession());
      sockMgr.getSession().destroySession();
    }
 catch (    I2PException ex) {
      _log.error("Error destroying the session",ex);
    }
    open=false;
    return true;
  }
}
