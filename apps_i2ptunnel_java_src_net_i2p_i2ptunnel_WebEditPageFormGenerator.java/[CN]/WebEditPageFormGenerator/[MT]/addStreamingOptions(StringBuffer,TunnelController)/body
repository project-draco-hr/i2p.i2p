{
  int connectDelay=0;
  int maxWindowSize=-1;
  Properties opts=getOptions(controller);
  if (opts != null) {
    String delay=opts.getProperty("i2p.streaming.connectDelay");
    if (delay != null) {
      try {
        connectDelay=Integer.parseInt(delay);
      }
 catch (      NumberFormatException nfe) {
        connectDelay=0;
      }
    }
    String max=opts.getProperty("i2p.streaming.maxWindowSize");
    if (max != null) {
      try {
        maxWindowSize=Integer.parseInt(max);
      }
 catch (      NumberFormatException nfe) {
        maxWindowSize=-1;
      }
    }
  }
  buf.append("<b>Delay connection briefly? </b> ");
  buf.append("<input type=\"checkbox\" name=\"connectDelay\" value=\"");
  buf.append((connectDelay > 0 ? connectDelay : 1000)).append("\" ");
  if (connectDelay > 0)   buf.append("checked=\"true\" ");
  buf.append("/> (useful for brief request/response connections)<br />\n");
  buf.append("<b>Communication profile:</b>");
  buf.append("<select name=\"profile\">");
  if (maxWindowSize <= 0)   buf.append("<option value=\"interactive\">Interactive</option><option value=\"bulk\" selected=\"true\">Bulk</option>");
 else   buf.append("<option value=\"interactive\" selected=\"true\">Interactive</option><option value=\"bulk\">Bulk</option>");
  buf.append("</select><br />\n");
}
