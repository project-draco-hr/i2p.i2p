{
  try {
    SOCKSServer serv=SOCKSServerFactory.createSOCKSServer(s,getTunnel().getClientOptions());
    Socket clientSock=serv.getClientSocket();
    I2PSocket destSock=serv.getDestinationI2PSocket(this);
    StringBuffer expectedPong=new StringBuffer();
    Thread in=new I2PAppThread(new IrcInboundFilter(clientSock,destSock,expectedPong,_log),"SOCKS IRC Client " + (++__clientId) + " in",true);
    in.start();
    Thread out=new I2PAppThread(new IrcOutboundFilter(clientSock,destSock,expectedPong,_log),"SOCKS IRC Client " + __clientId + " out",true);
    out.start();
  }
 catch (  SOCKSException e) {
    _log.error("Error from SOCKS connection",e);
    closeSocket(s);
  }
}
