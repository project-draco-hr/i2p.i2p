{
  TunnelController tun=getController(tunnel);
  if (tun != null) {
    Properties opts=getOptions(tun);
    if (opts == null)     return "";
    StringBuilder buf=new StringBuilder(64);
    int i=0;
    boolean isMD5Proxy="httpclient".equals(tun.getType()) || "connectclient".equals(tun.getType());
    for (Iterator iter=opts.keySet().iterator(); iter.hasNext(); ) {
      String key=(String)iter.next();
      if (_noShowSet.contains(key))       continue;
      if ((!isMD5Proxy) && _nonProxyNoShowSet.contains(key))       continue;
      String val=opts.getProperty(key);
      if (i != 0)       buf.append(' ');
      buf.append(key).append('=').append(val);
      i++;
    }
    return buf.toString();
  }
 else {
    return "";
  }
}
