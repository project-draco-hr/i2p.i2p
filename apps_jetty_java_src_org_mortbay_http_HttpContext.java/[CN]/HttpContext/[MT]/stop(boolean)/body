{
  boolean gs=_gracefulStop;
  try {
    _gracefulStop=true;
    while (graceful && _statsOn && _requestsActive > 0 && _httpServer != null)     try {
      Thread.sleep(100);
    }
 catch (    InterruptedException e) {
      throw e;
    }
catch (    Exception e) {
      LogSupport.ignore(log,e);
    }
    stop();
  }
  finally {
    _gracefulStop=gs;
  }
}
