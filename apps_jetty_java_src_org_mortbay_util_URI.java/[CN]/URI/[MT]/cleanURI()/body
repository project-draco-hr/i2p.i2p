{
  StringBuffer buf=new StringBuffer(_uri.length() * 2);
synchronized (buf) {
    if (_scheme != null) {
      buf.append(_scheme);
      buf.append("://");
      buf.append(_host);
      if (_port > 0) {
        buf.append(':');
        buf.append(_port);
      }
    }
    buf.append(_encodedPath);
    if (_query != null && _query.length() > 0) {
      buf.append('?');
      buf.append(_query);
    }
    _uri=buf.toString();
    _dirty=false;
  }
}
