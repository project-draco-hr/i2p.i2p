{
  if (size < maxlen) {
    byte[] res=toByteArray();
    clear();
    return res;
  }
 else {
    byte[] result=new byte[maxlen];
    System.arraycopy(contents,0,result,0,maxlen);
    System.arraycopy(contents,maxlen,contents,0,size - maxlen);
    size-=maxlen;
    return result;
  }
}
