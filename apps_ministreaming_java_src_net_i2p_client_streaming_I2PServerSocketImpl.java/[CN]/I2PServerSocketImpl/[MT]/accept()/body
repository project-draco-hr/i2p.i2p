{
  if (_log.shouldLog(Log.DEBUG))   _log.debug("accept() called, pending: " + pendingSockets.size());
  I2PSocket ret=null;
  while ((ret == null) && (!closing)) {
    while (pendingSockets.size() <= 0) {
      if (closing)       throw new ConnectException("I2PServerSocket closed");
      try {
synchronized (socketAddedLock) {
          socketAddedLock.wait();
        }
      }
 catch (      InterruptedException ie) {
      }
    }
synchronized (pendingSockets) {
      if (pendingSockets.size() > 0) {
        ret=(I2PSocket)pendingSockets.remove(0);
      }
    }
    if (ret != null) {
synchronized (socketAcceptedLock) {
        socketAcceptedLock.notifyAll();
      }
    }
  }
  if (_log.shouldLog(Log.DEBUG))   _log.debug("TIMING: handed out accept result " + ret.hashCode());
  return ret;
}
