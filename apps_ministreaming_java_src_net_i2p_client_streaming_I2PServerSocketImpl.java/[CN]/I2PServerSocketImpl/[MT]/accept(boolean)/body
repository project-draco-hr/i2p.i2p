{
  I2PSocket ret=null;
  if (blocking) {
    ret=accept();
  }
 else {
synchronized (pendingSockets) {
      if (pendingSockets.size() > 0) {
        ret=(I2PSocket)pendingSockets.remove(0);
      }
    }
    if (ret != null) {
synchronized (socketAcceptedLock) {
        socketAcceptedLock.notifyAll();
      }
    }
  }
  return ret;
}
