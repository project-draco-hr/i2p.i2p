{
synchronized (flagLock) {
    closed=true;
    closed2=true;
    sendClose=false;
  }
  out.close();
  in.notifyClosed();
}
