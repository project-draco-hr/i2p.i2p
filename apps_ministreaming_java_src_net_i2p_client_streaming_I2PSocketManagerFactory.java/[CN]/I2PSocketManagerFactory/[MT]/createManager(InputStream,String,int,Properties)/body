{
  I2PClient client=I2PClientFactory.createClient();
  if (opts == null)   opts=new Properties();
  for (Iterator iter=System.getProperties().keySet().iterator(); iter.hasNext(); ) {
    String name=(String)iter.next();
    if (!opts.containsKey(name))     opts.setProperty(name,System.getProperty(name));
  }
  if (true) {
    opts.setProperty(I2PClient.PROP_RELIABILITY,I2PClient.PROP_RELIABILITY_GUARANTEED);
  }
 else {
    opts.setProperty(I2PClient.PROP_RELIABILITY,I2PClient.PROP_RELIABILITY_BEST_EFFORT);
  }
  opts.setProperty(I2PClient.PROP_TCP_HOST,i2cpHost);
  opts.setProperty(I2PClient.PROP_TCP_PORT,"" + i2cpPort);
  try {
    I2PSession session=client.createSession(myPrivateKeyStream,opts);
    session.connect();
    return createManager(session,opts,"manager");
  }
 catch (  I2PSessionException ise) {
    _log.error("Error creating session for socket manager",ise);
    return null;
  }
}
