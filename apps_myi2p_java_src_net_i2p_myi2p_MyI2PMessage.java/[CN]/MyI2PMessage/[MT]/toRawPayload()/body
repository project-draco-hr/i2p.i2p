{
  if (_service == null)   throw new IllegalStateException("Service is null");
  if (_type == null)   throw new IllegalStateException("Type is null");
  if (_payload == null)   throw new IllegalStateException("Payload is null");
  byte service[]=_service.getBytes();
  byte type[]=_type.getBytes();
  byte rv[]=new byte[MESSAGE_PREFIX.length + service.length + 1+ type.length+ 1+ _payload.length];
  System.arraycopy(MESSAGE_PREFIX,0,rv,0,MESSAGE_PREFIX.length);
  System.arraycopy(service,0,rv,MESSAGE_PREFIX.length,service.length);
  rv[MESSAGE_PREFIX.length + service.length]=' ';
  System.arraycopy(type,0,rv,MESSAGE_PREFIX.length + service.length + 1,type.length);
  rv[MESSAGE_PREFIX.length + service.length + 1+ type.length]='\n';
  System.arraycopy(_payload,0,rv,MESSAGE_PREFIX.length + service.length + 1+ type.length+ 1,_payload.length);
  return rv;
}
