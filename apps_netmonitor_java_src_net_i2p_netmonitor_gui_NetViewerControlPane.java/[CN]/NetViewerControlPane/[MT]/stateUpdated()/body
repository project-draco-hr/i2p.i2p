{
  List knownNames=new ArrayList(8);
  List peers=_gui.getViewer().getMonitor().getPeers();
  _log.debug("GUI updated with peers: " + peers);
  for (int i=0; i < peers.size(); i++) {
    String name=(String)peers.get(i);
    String shortName=name.substring(0,4);
    knownNames.add(shortName);
    if (_configPane.indexOfTab(shortName) >= 0) {
      JScrollPane pane=(JScrollPane)_configPane.getComponentAt(_configPane.indexOfTab(shortName));
      PeerPlotConfigPane cfgPane=(PeerPlotConfigPane)pane.getViewport().getView();
      cfgPane.stateUpdated();
      _log.debug("We already know about [" + name + "]");
    }
 else {
      _log.info("The peer [" + name + "] is new to us");
      PeerPlotConfig cfg=new PeerPlotConfig(_gui.getViewer().getMonitor().getSummary(name));
      _gui.getViewer().addConfig(name,cfg);
      PeerPlotConfigPane pane=new PeerPlotConfigPane(cfg,this);
      JScrollPane p=new JScrollPane(pane);
      p.setBackground(_background);
      _configPane.addTab(shortName,null,p,"Peer " + name);
      _configPane.setBackgroundAt(_configPane.getTabCount() - 1,_background);
      _configPane.setForegroundAt(_configPane.getTabCount() - 1,_foreground);
    }
  }
  List toRemove=new ArrayList(4);
  for (int i=0; i < _configPane.getTabCount(); i++) {
    if (knownNames.contains(_configPane.getTitleAt(i))) {
    }
 else {
      toRemove.add(_configPane.getTitleAt(i));
    }
  }
  for (int i=0; i < toRemove.size(); i++) {
    String title=(String)toRemove.get(i);
    _log.info("Removing peer [" + title + "]");
    _configPane.removeTabAt(_configPane.indexOfTab(title));
  }
}
