{
  ServletInputStream in=req.getInputStream();
  RouterIdentity ident=new RouterIdentity();
  try {
    Date remoteTime=DataHelper.readDate(in);
    long skew=getSkew(remoteTime);
    ident.readBytes(in);
    boolean ok=registerIdent(ident);
    sendURLs(req,resp,skew,ok);
  }
 catch (  DataFormatException dfe) {
    log("Invalid format for router identity posted",dfe);
  }
 finally {
    in.close();
  }
}
