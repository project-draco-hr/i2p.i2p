{
  StringBuffer buf=new StringBuffer(128);
  int numBytes=0;
  int c=0;
  while ((c=in.read()) != -1) {
    if (c == (int)'\n')     break;
    buf.append((char)c);
    numBytes++;
    if (numBytes > 512) {
      log("First line is > 512 bytes [" + buf.toString() + "]");
      return null;
    }
  }
  log("First line: " + buf.toString());
  return buf.toString();
}
