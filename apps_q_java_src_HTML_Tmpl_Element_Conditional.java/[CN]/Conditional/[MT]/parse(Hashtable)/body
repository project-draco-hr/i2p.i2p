{
  if (!params.containsKey(this.name))   this.control_val=false;
 else   setControlValue(params.get(this.name));
  StringBuffer output=new StringBuffer();
  Enumeration de;
  if (type.equals("if") && control_val || type.equals("unless") && !control_val)   de=data[0].elements();
 else   if (data[1] != null)   de=data[1].elements();
 else   return "";
  while (de.hasMoreElements()) {
    Object e=de.nextElement();
    String eType=e.getClass().getName();
    if (eType.endsWith(".String"))     output.append((String)e);
 else     if (eType.endsWith(".Template"))     output.append(((Template)e).output());
 else     output.append(((Element)e).parse(params));
  }
  return output.toString();
}
