{
  String hostname;
  URL u;
  try {
    Destination dest=new Destination();
    dest.fromBase64(hostOrDest);
    I2PXmlRpcClient client=newClient(new URL("http","i2p/" + hostOrDest,"/"));
    client.debug=debug;
    return client;
  }
 catch (  DataFormatException e) {
    if (debug) {
      e.printStackTrace();
      print("hostOrDest length=" + hostOrDest.length());
    }
    if (hostOrDest.length() < 255) {
      u=new URL("http",hostOrDest,"/");
      I2PXmlRpcClient client=newClient(u);
      client.debug=debug;
      return client;
    }
 else {
      throw new DataFormatException("Bad I2P hostname/dest:\n" + hostOrDest);
    }
  }
}
