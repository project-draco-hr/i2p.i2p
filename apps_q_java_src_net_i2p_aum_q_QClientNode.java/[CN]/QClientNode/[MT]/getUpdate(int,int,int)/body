{
  Hashtable h=localGetUpdate(since,includePeers,includeCatalog);
  if (includeCatalog != 0) {
    Vector vCat=(Vector)(h.get("items"));
    Iterator items;
    try {
      items=catalogIdx.getItemsSince(since);
      while (items.hasNext()) {
        String key=(String)(items.next());
        Hashtable pf=getLocalCatalogMetadata(key);
        log.error("getUpdate(client): key=" + key + ", pf="+ pf);
        System.out.println("getUpdate(client): key=" + key + ", pf="+ pf);
        if (pf != null) {
          Hashtable pf1=(Hashtable)pf.clone();
          pf1.put("key",key);
          vCat.addElement(pf1);
        }
      }
    }
 catch (    IOException e) {
      e.printStackTrace();
    }
  }
  return h;
}
