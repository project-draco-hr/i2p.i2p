{
  Hashtable resp=new Hashtable();
  QDataItem item;
  String uri;
  try {
    item=new QDataItem(metadata,data);
    item.processAndValidate(true);
    localPutItem(item);
    uri=(String)item.get("uri");
  }
 catch (  QException e) {
    resp.put("status","error");
    resp.put("error","qexception");
    resp.put("summary",e.getLocalizedMessage());
    return resp;
  }
  schedulePeerUploadJob(item);
  resp.put("status","ok");
  resp.put("uri",uri);
  return resp;
}
