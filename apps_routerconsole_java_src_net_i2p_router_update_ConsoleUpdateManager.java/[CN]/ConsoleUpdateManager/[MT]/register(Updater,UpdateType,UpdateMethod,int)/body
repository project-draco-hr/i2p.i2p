{
  if ((type == ROUTER_SIGNED || type == ROUTER_UNSIGNED) && NewsHelper.dontInstall(_context)) {
    if (_log.shouldLog(Log.WARN))     _log.warn("Ignoring registration for " + type + ", router updates disabled");
    return;
  }
  if (method == TORRENT && RouterVersion.BUILD == 0 && _context.random().nextInt(100) > 29) {
    if (_log.shouldLog(Log.WARN))     _log.warn("Ignoring torrent registration");
    return;
  }
  RegisteredUpdater ru=new RegisteredUpdater(updater,type,method,priority);
  if (_log.shouldLog(Log.INFO))   _log.info("Registering " + ru);
  if (!_registeredUpdaters.add(ru)) {
    if (_log.shouldLog(Log.WARN))     _log.warn("Duplicate registration " + ru);
  }
}
