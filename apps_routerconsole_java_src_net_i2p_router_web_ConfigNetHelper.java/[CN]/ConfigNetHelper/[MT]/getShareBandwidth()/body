{
  String irate=_context.getProperty(PROP_INBOUND_KBPS,"32");
  String orate=_context.getProperty(PROP_OUTBOUND_KBPS,"16");
  String pctStr=_context.getProperty(PROP_SHARE_PERCENTAGE,"" + DEFAULT_SHARE_PERCENTAGE);
  if ((irate != null) && (orate != null) && (pctStr != null)) {
    try {
      int irateKBps=Integer.parseInt(irate);
      int orateKBps=Integer.parseInt(orate);
      if (irateKBps < 0 || orateKBps < 0)       return 12;
      int pct=Integer.parseInt(pctStr);
      return (int)(((float)pct) * Math.min(irateKBps,orateKBps) / 100);
    }
 catch (    NumberFormatException nfe) {
    }
  }
  return 12;
}
