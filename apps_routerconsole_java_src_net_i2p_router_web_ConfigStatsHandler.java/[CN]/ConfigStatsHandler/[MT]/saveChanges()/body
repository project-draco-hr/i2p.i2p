{
  if (_filename == null)   _filename=StatManager.DEFAULT_STAT_FILE;
  _context.router().setConfigSetting(StatManager.PROP_STAT_FILE,_filename);
  if (_explicitFilter) {
    _stats.clear();
    if (_explicitFilterValue == null)     _explicitFilterValue="";
    if (_explicitFilterValue.indexOf(',') != -1) {
      StringTokenizer tok=new StringTokenizer(_explicitFilterValue,",");
      while (tok.hasMoreTokens()) {
        String cur=tok.nextToken().trim();
        if ((cur.length() > 0) && (!_stats.contains(cur)))         _stats.add(cur);
      }
    }
 else {
      String stat=_explicitFilterValue.trim();
      if ((stat.length() > 0) && (!_stats.contains(stat)))       _stats.add(stat);
    }
  }
  StringBuilder stats=new StringBuilder();
  for (int i=0; i < _stats.size(); i++) {
    stats.append((String)_stats.get(i));
    if (i + 1 < _stats.size())     stats.append(',');
  }
  _context.router().setConfigSetting(StatManager.PROP_STAT_FILTER,stats.toString());
  _context.router().setConfigSetting("stat.summaries",_graphs);
  _context.router().setConfigSetting(StatManager.PROP_STAT_FULL,"" + _isFull);
  boolean ok=_context.router().saveConfig();
  if (ok)   addFormNotice("Stat filter and location updated successfully to: " + stats.toString());
 else   addFormError("Failed to update the stat filter and location");
  addFormNotice("Graph list updated, may take up to 60s to be reflected here and on the <a href=\"graphs.jsp\">Graphs Page</a>");
}
