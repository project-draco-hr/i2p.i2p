{
  String name=getJettyString("name");
  if (name == null || name.length() <= 0) {
    addFormError(_t("No user name entered"));
    return;
  }
  String pw=getJettyString("nofilter_pw");
  if (pw == null || pw.length() <= 0) {
    addFormError(_t("No password entered"));
    return;
  }
  ConsolePasswordManager mgr=new ConsolePasswordManager(_context);
  if (mgr.saveMD5(RouterConsoleRunner.PROP_CONSOLE_PW,RouterConsoleRunner.JETTY_REALM,name,pw)) {
    if (!_context.getBooleanProperty(RouterConsoleRunner.PROP_PW_ENABLE))     _context.router().saveConfig(RouterConsoleRunner.PROP_PW_ENABLE,"true");
    addFormNotice(_t("Added user {0}",name));
    addFormError(_t("Restart required to take effect"));
  }
 else {
    addFormError(_t("Error saving the configuration (applied but not saved) - please see the error logs."));
  }
}
