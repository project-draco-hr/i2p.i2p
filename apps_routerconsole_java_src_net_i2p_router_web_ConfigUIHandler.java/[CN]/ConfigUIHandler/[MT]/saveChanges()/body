{
  if (_config == null)   return;
  String oldTheme=_context.getProperty(CSSHelper.PROP_THEME_NAME,CSSHelper.DEFAULT_THEME);
  boolean ok;
  if (_config.equals("default"))   ok=_context.router().saveConfig(CSSHelper.PROP_THEME_NAME,null);
 else   ok=_context.router().saveConfig(CSSHelper.PROP_THEME_NAME,_config);
  if (ok) {
    if (_universalTheming)     ok=_context.router().saveConfig(CSSHelper.PROP_UNIVERSAL_THEMING,"true");
 else     ok=_context.router().saveConfig(CSSHelper.PROP_UNIVERSAL_THEMING,null);
  }
  if (ok) {
    if (!oldTheme.equals(_config))     addFormNotice(_("Theme change saved.") + " <a href=\"configui\">" + _("Refresh the page to view.")+ "</a>");
  }
 else {
    addFormError(_("Error saving the configuration (applied but not saved) - please see the error logs."));
  }
}
