{
  if (_config == null)   return;
  Properties props=_context.readConfigFile(CSSHelper.THEME_CONFIG_FILE);
  String oldTheme=props.getProperty(CSSHelper.PROP_THEME_NAME,CSSHelper.DEFAULT_THEME);
  if (_config.equals("default"))   props.put(CSSHelper.PROP_THEME_NAME,null);
 else   props.put(CSSHelper.PROP_THEME_NAME,_config);
  if (_universalTheming) {
    for (Iterator it=props.keySet().iterator(); it.hasNext(); ) {
      String key=(String)it.next();
      props.put(key,_config);
    }
  }
  boolean ok=_context.writeConfigFile(CSSHelper.THEME_CONFIG_FILE,props);
  if (ok) {
    if (!oldTheme.equals(_config))     addFormNotice(_("Theme change saved.") + " <a href=\"configui\">" + _("Refresh the page to view.")+ "</a>");
  }
 else {
    addFormError(_("Error saving the configuration (applied but not saved) - please see the error logs."));
  }
}
