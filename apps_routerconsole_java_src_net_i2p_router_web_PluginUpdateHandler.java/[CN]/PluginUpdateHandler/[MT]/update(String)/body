{
  if ("true".equals(System.getProperty(PROP_UPDATE_IN_PROGRESS))) {
    _log.error("Update already running");
    return;
  }
synchronized (UpdateHandler.class) {
    if (_pluginUpdateRunner == null)     _pluginUpdateRunner=new PluginUpdateRunner(_xpi2pURL);
    if (_pluginUpdateRunner.isRunning())     return;
    _xpi2pURL=xpi2pURL;
    _updateFile=(new File(_context.getTempDir(),"tmp" + _context.random().nextInt() + XPI2P)).getAbsolutePath();
    System.setProperty(PROP_UPDATE_IN_PROGRESS,"true");
    I2PAppThread update=new I2PAppThread(_pluginUpdateRunner,"AppDownload");
    update.start();
  }
}
