{
  File workDir=new File("work");
  boolean workDirRemoved=FileUtil.rmdir(workDir,false);
  if (!workDirRemoved)   System.err.println("ERROR: Unable to remove Jetty temporary work directory");
  boolean workDirCreated=workDir.mkdirs();
  if (!workDirCreated)   System.err.println("ERROR: Unable to create Jetty temporary work directory");
  _server=new Server();
  WebApplicationContext contexts[]=null;
  try {
    _server.addListener(_listenHost + ':' + _listenPort);
    _server.setRootWebApp("routerconsole");
    contexts=_server.addWebApplications(_webAppsDir);
    if (contexts != null) {
      for (int i=0; i < contexts.length; i++)       initialize(contexts[i]);
    }
  }
 catch (  IOException ioe) {
    ioe.printStackTrace();
  }
  try {
    _server.start();
  }
 catch (  Exception me) {
    me.printStackTrace();
  }
  try {
    SysTray tray=SysTray.getInstance();
  }
 catch (  Throwable t) {
    t.printStackTrace();
  }
  File noReseedFile=new File(new File(System.getProperty("user.home")),".i2pnoreseed");
  if (!noReseedFile.exists()) {
    RouterContext ctx=(RouterContext)RouterContext.listContexts().get(0);
    if (ctx.netDb().getKnownRouters() < 15) {
      ReseedHandler.requestReseed();
    }
  }
  NewsFetcher fetcher=NewsFetcher.getInstance(I2PAppContext.getGlobalContext());
  I2PThread t=new I2PThread(fetcher,"NewsFetcher");
  t.setDaemon(true);
  t.start();
}
