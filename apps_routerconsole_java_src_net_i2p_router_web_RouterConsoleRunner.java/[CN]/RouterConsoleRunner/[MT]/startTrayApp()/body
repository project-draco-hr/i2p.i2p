{
  try {
    VersionComparator v=new VersionComparator();
    boolean recentJava=v.compare(System.getProperty("java.runtime.version"),"1.6") >= 0;
    boolean desktopguiEnabled=I2PAppContext.getGlobalContext().getBooleanProperty("desktopgui.enabled");
    if (recentJava && desktopguiEnabled) {
      System.setProperty("java.awt.headless",Boolean.toString(GraphicsEnvironment.isHeadless()));
      String[] args=new String[0];
      net.i2p.desktopgui.Main.beginStartup(args);
    }
 else {
      System.setProperty("java.awt.headless","true");
      SysTray.getInstance();
    }
  }
 catch (  Throwable t) {
    t.printStackTrace();
  }
}
