{
  if (!_context.clock().getUpdatedSuccessfully())   return "ERR-ClockSkew";
  int status=_context.commSystem().getReachabilityStatus();
switch (status) {
case CommSystemFacade.STATUS_OK:
    RouterAddress ra=_context.router().getRouterInfo().getTargetAddress("NTCP");
  if (ra == null || (new NTCPAddress(ra)).isPubliclyRoutable())   return "OK";
return "ERR-Private TCP Address";
case CommSystemFacade.STATUS_DIFFERENT:
return "ERR-SymmetricNAT";
case CommSystemFacade.STATUS_REJECT_UNSOLICITED:
if (_context.router().getRouterInfo().getTargetAddress("NTCP") != null) return "WARN-Firewalled with Inbound TCP Enabled";
 else if (_context.router().getRouterInfo().getCapabilities().indexOf('O') >= 0) return "WARN-Firewalled and Fast";
 else return "Firewalled";
case CommSystemFacade.STATUS_HOSED:
return "ERR-UDP Port In Use - Set i2np.udp.internalPort=xxxx in advanced config and restart";
case CommSystemFacade.STATUS_UNKNOWN:
default :
return "Testing";
}
}
