{
  if (_db != null) {
    try {
      _sample.setTime(now() / 1000);
      double val=eventCount > 0 ? (totalValue / (double)eventCount) : 0d;
      _sample.setValue(_name,val);
      _sample.setValue(_eventName,eventCount);
      _sample.update();
    }
 catch (    IOException ioe) {
      _log.error("Error adding",ioe);
    }
catch (    RrdException re) {
      _log.error("Error adding",re);
    }
  }
}
