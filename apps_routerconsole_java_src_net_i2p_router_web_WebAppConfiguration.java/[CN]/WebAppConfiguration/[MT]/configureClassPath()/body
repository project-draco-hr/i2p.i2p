{
  String ctxPath=_wac.getContextPath();
  if (ctxPath.equals("/"))   return;
  String appName=ctxPath.substring(1);
  I2PAppContext i2pContext=I2PAppContext.getGlobalContext();
  File libDir=new File(i2pContext.getBaseDir(),"lib");
  File pluginDir=new File(i2pContext.getAppDir(),PluginUpdateHandler.PLUGIN_DIR + ctxPath);
  File dir=libDir;
  String cp;
  if (ctxPath.equals("/susidns")) {
    cp="jstl.jar,standard.jar";
  }
 else   if (ctxPath.equals("/i2psnark")) {
    cp="i2psnark.jar";
  }
 else   if (pluginDir.exists()) {
    File consoleDir=new File(pluginDir,"console");
    Properties props=RouterConsoleRunner.webAppProperties(consoleDir.getAbsolutePath());
    cp=props.getProperty(RouterConsoleRunner.PREFIX + appName + CLASSPATH);
    dir=pluginDir;
  }
 else {
    Properties props=RouterConsoleRunner.webAppProperties();
    cp=props.getProperty(RouterConsoleRunner.PREFIX + appName + CLASSPATH);
  }
  if (cp == null)   return;
  StringTokenizer tok=new StringTokenizer(cp," ,");
  while (tok.hasMoreTokens()) {
    String elem=tok.nextToken().trim();
    String path;
    if (elem.startsWith("$I2P"))     path=i2pContext.getBaseDir().getAbsolutePath() + elem.substring(4);
 else     if (elem.startsWith("$PLUGIN"))     path=dir.getAbsolutePath() + elem.substring(7);
 else     path=dir.getAbsolutePath() + '/' + elem;
    System.err.println("Adding " + path + " to classpath for "+ appName);
    _wac.addClassPath(path);
  }
}
