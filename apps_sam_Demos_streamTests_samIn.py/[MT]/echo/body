def echo(sock, lines):
    l = 0
    while ((lines == (-1)) or (l < lines)):
        chunk = sock.recv(1000)
        sys.stdout.write(chunk)
        if (lines != (-1)):
            l = (l + 1)
        if (not chunk):
            break
        sock.send(chunk)
    print 
