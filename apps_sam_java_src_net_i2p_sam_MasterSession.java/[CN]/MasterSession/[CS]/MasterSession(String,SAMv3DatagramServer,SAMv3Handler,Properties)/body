{
  super(nick);
  props.setProperty("net.i2p.streaming.enforceProtocol","true");
  props.setProperty("i2cp.dontPublishLeaseSet","false");
  props.setProperty("FROM_PORT",Integer.toString(I2PSession.PORT_UNSPECIFIED));
  props.setProperty("TO_PORT",Integer.toString(I2PSession.PORT_UNSPECIFIED));
  dgs=dgServer;
  sessions=new ConcurrentHashMap<String,SAMMessageSess>(4);
  this.handler=handler;
  I2PSession isess=socketMgr.getSession();
  isess.addMuxedSessionListener(this,I2PSession.PROTO_ANY,I2PSession.PORT_ANY);
  streamAcceptor=new StreamAcceptor();
}
