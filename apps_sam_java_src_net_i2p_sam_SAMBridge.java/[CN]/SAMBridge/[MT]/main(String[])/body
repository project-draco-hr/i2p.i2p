{
  String keyfile=DEFAULT_SAM_KEYFILE;
  int port=SAM_LISTENPORT;
  String host="0.0.0.0";
  Properties opts=null;
  if (args.length > 0) {
    keyfile=args[0];
    int portIndex=1;
    try {
      port=Integer.parseInt(args[portIndex]);
    }
 catch (    NumberFormatException nfe) {
      host=args[1];
      portIndex++;
      try {
        port=Integer.parseInt(args[portIndex]);
      }
 catch (      NumberFormatException nfe1) {
        usage();
        return;
      }
    }
    opts=parseOptions(args,portIndex + 1);
  }
  SAMBridge bridge=new SAMBridge(host,port,opts,keyfile);
  I2PThread t=new I2PThread(bridge,"SAMListener");
  t.start();
}
