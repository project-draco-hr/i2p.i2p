{
  SAMStreamSessionSocketHandler handler;
  if (id == 0) {
    id=createUniqueId();
  }
  try {
    handler=new SAMStreamSessionSocketHandler(s,id);
  }
 catch (  IOException e) {
    _log.error("IOException when creating SAM STREAM session socket handler",e);
    recv.stopStreamReceiving();
    return 0;
  }
synchronized (handlersMapLock) {
    handlersMap.put(new Integer(id),handler);
  }
  I2PThread t=new I2PThread(handler,"SAMStreamSessionSocketHandler");
  t.start();
  return id;
}
