{
  Integer id;
  Set keySet;
  Iterator iter;
synchronized (handlersMapLock) {
    keySet=handlersMap.keySet();
    iter=keySet.iterator();
    while (iter.hasNext()) {
      id=(Integer)iter.next();
      ((SAMStreamSessionSocketReader)handlersMap.get(id)).stopRunning();
      ((StreamSender)sendersMap.get(id)).stopRunning();
    }
    handlersMap.clear();
    sendersMap.clear();
  }
}
