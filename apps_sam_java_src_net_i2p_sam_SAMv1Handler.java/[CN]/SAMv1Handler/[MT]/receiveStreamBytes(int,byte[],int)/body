{
  if (streamSession == null) {
    _log.error("Received stream bytes, but session is null!");
    throw new NullPointerException("BUG! STREAM session is null!");
  }
  String msgText="STREAM RECEIVED ID=" + id + " SIZE="+ len+ "\n";
  if (_log.shouldLog(Log.DEBUG))   _log.debug("sending to client: " + msgText);
  byte prefix[]=msgText.getBytes("ISO-8859-1");
  Object writeLock=getWriteLock();
  OutputStream out=getOut();
synchronized (writeLock) {
    out.write(prefix);
    out.write(data,0,len);
    out.flush();
  }
}
