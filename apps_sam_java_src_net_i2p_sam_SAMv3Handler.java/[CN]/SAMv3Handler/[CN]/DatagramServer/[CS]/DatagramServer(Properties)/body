{
synchronized (DatagramServer.class) {
    if (server == null)     server=DatagramChannel.open();
  }
  String host=props.getProperty(SAMBridge.PROP_DATAGRAM_HOST,SAMBridge.DEFAULT_DATAGRAM_HOST);
  String portStr=props.getProperty(SAMBridge.PROP_DATAGRAM_PORT,SAMBridge.DEFAULT_DATAGRAM_PORT);
  int port;
  try {
    port=Integer.parseInt(portStr);
  }
 catch (  NumberFormatException e) {
    port=Integer.parseInt(SAMBridge.DEFAULT_DATAGRAM_PORT);
  }
  server.socket().bind(new InetSocketAddress(host,port));
  new I2PAppThread(new Listener(server),"DatagramListener").start();
}
