{
  String header=null;
  String nick;
  String dest;
  String version;
  try {
    header=DataHelper.readLine(is).trim();
    StringTokenizer tok=new StringTokenizer(header," ");
    if (tok.countTokens() != 3) {
      _log.debug("Error in message format");
      return;
    }
    version=tok.nextToken();
    if (!"3.0".equals(version))     return;
    nick=tok.nextToken();
    dest=tok.nextToken();
    byte[] data=new byte[is.available()];
    is.read(data);
    SessionRecord rec=sSessionsHash.get(nick);
    if (rec != null) {
      rec.getHandler().session.sendBytes(dest,data);
    }
  }
 catch (  Exception e) {
  }
}
