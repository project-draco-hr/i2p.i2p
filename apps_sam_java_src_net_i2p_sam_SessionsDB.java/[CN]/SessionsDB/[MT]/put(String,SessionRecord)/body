{
  if (map.containsKey(nick)) {
    throw new ExistingIdException();
  }
  for (  SessionRecord r : map.values()) {
    if (r.getDest().equals(session.getDest())) {
      throw new ExistingDestException();
    }
  }
  if (!map.containsKey(nick)) {
    session.createThreadGroup("SAM session " + nick);
    map.put(nick,session);
    return true;
  }
 else   return false;
}
