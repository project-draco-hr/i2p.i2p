def recv(self, nbytes):
    '\n        Reads nbytes of data from socket\n        '
    if (not self.instream):
        raise I2PSocketError('Socket is not connected')
    chars = []
    while (nbytes > 0):
        byte = self.instream.read()
        if (byte < 0):
            break
        char = chr(byte)
        chars.append(char)
        nbytes -= 1
    buf = ''.join(chars)
    return buf
