def usage(detailed=0):
    print ('Usage: %s <options> [<command>]' % sys.argv[0])
    if (not detailed):
        print "Run with '-h' to get detailed help"
        sys.exit(0)
    print 'I2PSAM is a bridge that allows I2P client programs to access the'
    print 'I2P network by talking over a plaintext socket connection.'
    print 'References:'
    print '   - http://www.freenet.org.nz/i2p - source, doco, downloadables'
    print '   - http://drupal.i2p.net/node/view/144 - I2P SAM specification'
    print 
    print 'Options:'
    print '  -h, -?, --help        - display this help'
    print '  -v, --version         - print program version'
    print '  -V, --verbosity=n     - set verbosity to n, default 2, 1==quiet, 4==noisy'
    print '  -H, --listenhost=host - specify host to listen on for client connections'
    print '  -P, --listenport=port - port to listen on for client connections'
    print "      --i2cphost=host   - hostname of I2P router's I2CP interface"
    print "      --i2cpport=port   - port of I2P router's I2CP interface"
    print 
    print 'Commands:'
    print '     (run with no commands to launch SAM server)'
    print '     samserver - runs as a SAM server'
    print '     test - run a suite of self-tests'
    print '     testsocket - run only the socket test'
    print '     testbidirsocket - run socket test in bidirectional mode'
    print 
    sys.exit(0)
