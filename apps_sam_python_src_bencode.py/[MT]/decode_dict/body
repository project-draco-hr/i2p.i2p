def decode_dict(x, f):
    r = {}
    lastkey = None
    while (x[f] != 'e'):
        (k, f) = decode_string(x, f)
        if ((lastkey is not None) and (lastkey >= k)):
            raise ValueError
        lastkey = k
        (v, f) = bdecode_rec(x, f)
        r[k] = v
    return (r, (f + 1))
