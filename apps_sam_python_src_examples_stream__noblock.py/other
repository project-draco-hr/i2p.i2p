import i2p
from i2p import sam
import thread, time
S = sam.socket('Dave', sam.SOCK_STREAM)
S.listen(10)
S.setblocking(False)
print 'Serving at:', S.dest
while True:
    try:
        (C, remotedest) = S.accept()
        thread.start_new_thread(handle_connection, (C,))
    except sam.BlockError:
        pass
    time.sleep(0.01)
