def run(self, func=None):
    '\n        Runs the core in foreground, with the client func in background\n        '
    if (func == None):
        func = test
    self.bg = False
    thread.start_new_thread(self.runClient, (func,))
    set_trace()
    self.threadRxPackets()
