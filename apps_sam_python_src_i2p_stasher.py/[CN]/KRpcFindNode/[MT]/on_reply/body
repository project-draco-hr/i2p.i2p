def on_reply(self, peer, msgId, **details):
    '\n        Callback for FIND_NODE reply\n        '
    peerTab = self.peerTab
    self.numReplies += 1
    try:
        peerRec = peerTab[peer]
    except:
        traceback.print_exc()
        self.log(3, ('discarding findNode reply from unknown peer %s %s, discarding' % (peer, details)))
        return
    self.numQueriesPending -= 1
    self.localNode.addref(peerRec.peer)
    if (peerRec.state != 'queried'):
        self.log(2, "too weird - got a reply from a peer we didn't query")
    peerRec.state = 'replied'
    peersReturned = details.get('nodes', [])
    peersReturned = [self.localNode._normalisePeer(p) for p in peersReturned]
    self.numPeersRecommended += len(peersReturned)
    for p in peersReturned:
        peerTab.append(p, 'recommended')
    self.sendSomeQueries()
    self.checkEndOfRound()
