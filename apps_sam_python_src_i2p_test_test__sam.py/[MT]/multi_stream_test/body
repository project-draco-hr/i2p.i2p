def multi_stream_test(n):
    'See if we can have n streams open at once.'
    server = None
    client = ([None] * n)
    server = sam.socket('Aligi', sam.SOCK_STREAM, in_depth=0, out_depth=0)
    server.listen(n)
    for i in range(n):
        client[i] = sam.socket('Bobo', sam.SOCK_STREAM, in_depth=0, out_depth=0)
    for i in range(n):
        client[i].connect(server.dest)
        client[i].send('Hi')
    for i in range(n):
        client[i].close()
    server.close()
    test_passed((str(n) + ' streams open at once'))
