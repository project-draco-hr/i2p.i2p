def readline(self):
    "\n        Read a line of text from stream, return the line without trailing newline\n        \n        This method really shouldn't exist in a class that's trying to look a bit\n        like a socket object, but what the hell!\n        "
    chars = []
    while 1:
        char = self.recv(1)
        if (char in ['', '\n']):
            break
        chars.append(char)
    return ''.join(chars)
