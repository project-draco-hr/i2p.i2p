def _sendbytes(self, buf):
    '\n        Guaranteed complete send of a buffer\n        '
    reqd = len(buf)
    while (reqd > 0):
        nsent = self.sock.send(buf)
        if (nsent == 0):
            raise I2PServerFail('Send to server failed')
        buf = buf[nsent:]
        reqd -= nsent
