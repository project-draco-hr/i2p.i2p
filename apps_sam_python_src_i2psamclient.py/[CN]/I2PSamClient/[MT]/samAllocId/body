def samAllocId(self):
    '\n        Allocates a new unique id as required by SAM protocol\n        '
    self.samNextIdLock.acquire()
    id = self.samNextId
    self.samNextId += 1
    self.samNextIdLock.release()
    return id
