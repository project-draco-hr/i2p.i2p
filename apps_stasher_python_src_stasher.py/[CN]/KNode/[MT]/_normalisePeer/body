def _normalisePeer(self, peer):
    '\n        Takes either a b64 dest string, a KPeer object or a KNode object,\n        and returns a KPeer object\n        '
    if isinstance(peer, KPeer):
        return peer
    elif isinstance(peer, KNode):
        return KPeer(self, peer.dest)
    elif (isinstance(peer, str) and (len(peer) > 256)):
        return KPeer(self, peer)
    else:
        self.log(3, ('node %s, trying to add invalid noderef %s' % (self.name, peer)))
        raise KBadNode(peer)
