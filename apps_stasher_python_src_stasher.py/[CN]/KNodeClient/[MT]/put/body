def put(self, key, val, **kw):
    '\n        Tells remote stasher port to insert a file into the network\n    \n        Arguments:\n            - key - key to insert under\n            - val - value to insert under this key\n        \n        Keywords:\n            - local - default False - if True, only looks in local storage\n        \n        '
    if kw.get('local', False):
        cmd = 'putlocal'
    else:
        cmd = 'put'
    self.connect()
    self.write(('%s %s\n' % (cmd, key)))
    self.write(('%s\n' % len(val)))
    self.write(val)
    self.flush()
    res = self.readline().strip()
    self.close()
    if (res == 'ok'):
        return True
    else:
        print repr(res)
        return False
