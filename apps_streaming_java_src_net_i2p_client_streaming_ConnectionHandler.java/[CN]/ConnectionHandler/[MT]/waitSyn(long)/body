{
synchronized (this._synSignal) {
    long now=this._context.clock().now();
    long expiration=now + ms;
    while (expiration > now || ms <= 0) {
      for (      Packet p : this._synQueue) {
        if (p.isFlagSet(Packet.FLAG_SYNCHRONIZE))         return;
      }
      if (ms == 0) {
        this._synSignal.wait();
      }
 else {
        this._synSignal.wait(expiration - now);
        now=this._context.clock().now();
      }
    }
  }
}
