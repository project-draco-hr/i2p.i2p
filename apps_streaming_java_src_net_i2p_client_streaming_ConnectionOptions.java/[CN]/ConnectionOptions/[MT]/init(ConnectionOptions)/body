{
  if (opts != null) {
    setConnectDelay(opts.getConnectDelay());
    setProfile(opts.getProfile());
    setRTT(opts.getRTT());
    setRequireFullySigned(opts.getRequireFullySigned());
    setWindowSize(opts.getWindowSize());
    setResendDelay(opts.getResendDelay());
    setMaxMessageSize(opts.getMaxMessageSize());
    setChoke(opts.getChoke());
    setMaxResends(opts.getMaxResends());
    setInactivityTimeout(opts.getInactivityTimeout());
    setInactivityAction(opts.getInactivityAction());
  }
 else {
    setConnectDelay(2 * 1000);
    setProfile(PROFILE_BULK);
    setMaxMessageSize(Packet.MAX_PAYLOAD_SIZE);
    setRTT(30 * 1000);
    setReceiveWindow(1);
    setResendDelay(5 * 1000);
    setSendAckDelay(2 * 1000);
    setWindowSize(1);
    setMaxResends(5);
    setWriteTimeout(-1);
    setInactivityTimeout(5 * 60 * 1000);
    setInactivityAction(INACTIVITY_ACTION_SEND);
  }
}
