{
  if (opts != null) {
    setConnectDelay(opts.getConnectDelay());
    setProfile(opts.getProfile());
    setRTT(opts.getRTT());
    setRequireFullySigned(opts.getRequireFullySigned());
    setWindowSize(opts.getWindowSize());
    setResendDelay(opts.getResendDelay());
    setMaxMessageSize(opts.getMaxMessageSize());
    setChoke(opts.getChoke());
    setMaxResends(opts.getMaxResends());
  }
 else {
    setConnectDelay(2 * 1000);
    setProfile(PROFILE_BULK);
    setMaxMessageSize(Packet.MAX_PAYLOAD_SIZE);
    setRTT(30 * 1000);
    setReceiveWindow(1);
    setResendDelay(5 * 1000);
    setSendAckDelay(2 * 1000);
    setWindowSize(1);
    setMaxResends(10);
    setWriteTimeout(-1);
  }
}
