{
  super.setProperties(opts);
  if (opts == null)   return;
  if (opts.containsKey(PROP_MAX_WINDOW_SIZE))   setMaxWindowSize(getInt(opts,PROP_MAX_WINDOW_SIZE,Connection.MAX_WINDOW_SIZE));
  if (opts.containsKey(PROP_CONNECT_DELAY))   setConnectDelay(getInt(opts,PROP_CONNECT_DELAY,-1));
  if (opts.containsKey(PROP_PROFILE))   setProfile(getInt(opts,PROP_PROFILE,PROFILE_BULK));
  if (opts.containsKey(PROP_MAX_MESSAGE_SIZE))   setMaxMessageSize(getInt(opts,PROP_MAX_MESSAGE_SIZE,Packet.MAX_PAYLOAD_SIZE));
  if (opts.containsKey(PROP_INITIAL_RTT))   setRTT(getInt(opts,PROP_INITIAL_RTT,DEFAULT_INITIAL_RTT));
  if (opts.containsKey(PROP_INITIAL_RECEIVE_WINDOW))   setReceiveWindow(getInt(opts,PROP_INITIAL_RECEIVE_WINDOW,1));
  if (opts.containsKey(PROP_INITIAL_RESEND_DELAY))   setResendDelay(getInt(opts,PROP_INITIAL_RESEND_DELAY,1000));
  if (opts.containsKey(PROP_INITIAL_ACK_DELAY))   setSendAckDelay(getInt(opts,PROP_INITIAL_ACK_DELAY,DEFAULT_INITIAL_ACK_DELAY));
  if (opts.containsKey(PROP_INITIAL_WINDOW_SIZE))   setWindowSize(getInt(opts,PROP_INITIAL_WINDOW_SIZE,INITIAL_WINDOW_SIZE));
  if (opts.containsKey(PROP_MAX_RESENDS))   setMaxResends(getInt(opts,PROP_MAX_RESENDS,DEFAULT_MAX_SENDS));
  if (opts.containsKey(PROP_INACTIVITY_TIMEOUT))   setInactivityTimeout(getInt(opts,PROP_INACTIVITY_TIMEOUT,DEFAULT_INACTIVITY_TIMEOUT));
  if (opts.containsKey(PROP_INACTIVITY_ACTION))   setInactivityAction(getInt(opts,PROP_INACTIVITY_ACTION,DEFAULT_INACTIVITY_ACTION));
  setInboundBufferSize(getMaxMessageSize() * (Connection.MAX_WINDOW_SIZE + 2));
  if (opts.contains(PROP_CONGESTION_AVOIDANCE_GROWTH_RATE_FACTOR))   setCongestionAvoidanceGrowthRateFactor(getInt(opts,PROP_CONGESTION_AVOIDANCE_GROWTH_RATE_FACTOR,2));
  if (opts.contains(PROP_SLOW_START_GROWTH_RATE_FACTOR))   setSlowStartGrowthRateFactor(getInt(opts,PROP_SLOW_START_GROWTH_RATE_FACTOR,2));
  if (opts.containsKey(PROP_CONNECT_TIMEOUT))   setConnectTimeout(getInt(opts,PROP_CONNECT_TIMEOUT,Connection.DISCONNECT_TIMEOUT));
  if (opts.containsKey(PROP_ANSWER_PINGS))   setAnswerPings(getBool(opts,PROP_ANSWER_PINGS,DEFAULT_ANSWER_PINGS));
  if (opts.containsKey(PROP_ENFORCE_PROTO))   setEnforceProtocol(getBool(opts,PROP_ENFORCE_PROTO,DEFAULT_ENFORCE_PROTO));
  initLists(opts);
  if (opts.containsKey(PROP_MAX_CONNS_MIN))   _maxConnsPerMinute=getInt(opts,PROP_MAX_CONNS_MIN,0);
  if (opts.containsKey(PROP_MAX_CONNS_HOUR))   _maxConnsPerHour=getInt(opts,PROP_MAX_CONNS_HOUR,0);
  if (opts.containsKey(PROP_MAX_CONNS_DAY))   _maxConnsPerDay=getInt(opts,PROP_MAX_CONNS_DAY,0);
  if (opts.containsKey(PROP_MAX_TOTAL_CONNS_MIN))   _maxTotalConnsPerMinute=getInt(opts,PROP_MAX_TOTAL_CONNS_MIN,0);
  if (opts.containsKey(PROP_MAX_TOTAL_CONNS_HOUR))   _maxTotalConnsPerHour=getInt(opts,PROP_MAX_TOTAL_CONNS_HOUR,0);
  if (opts.containsKey(PROP_MAX_TOTAL_CONNS_DAY))   _maxTotalConnsPerDay=getInt(opts,PROP_MAX_TOTAL_CONNS_DAY,0);
}
