{
  super.setProperties(opts);
  if (opts == null)   return;
  if (opts.containsKey(PROP_MAX_WINDOW_SIZE))   setMaxWindowSize(getInt(opts,PROP_MAX_WINDOW_SIZE,Connection.MAX_WINDOW_SIZE));
  if (opts.containsKey(PROP_CONNECT_DELAY))   setConnectDelay(getInt(opts,PROP_CONNECT_DELAY,-1));
  if (opts.containsKey(PROP_PROFILE))   setProfile(getInt(opts,PROP_PROFILE,PROFILE_BULK));
  if (opts.containsKey(PROP_MAX_MESSAGE_SIZE))   setMaxMessageSize(getInt(opts,PROP_MAX_MESSAGE_SIZE,Packet.MAX_PAYLOAD_SIZE));
  if (opts.containsKey(PROP_INITIAL_RTT))   setRTT(getInt(opts,PROP_INITIAL_RTT,DEFAULT_INITIAL_RTT));
  if (opts.containsKey(PROP_INITIAL_RECEIVE_WINDOW))   setReceiveWindow(getInt(opts,PROP_INITIAL_RECEIVE_WINDOW,1));
  if (opts.containsKey(PROP_INITIAL_RESEND_DELAY))   setResendDelay(getInt(opts,PROP_INITIAL_RESEND_DELAY,1000));
  if (opts.containsKey(PROP_INITIAL_ACK_DELAY))   setSendAckDelay(getInt(opts,PROP_INITIAL_ACK_DELAY,2000));
  if (opts.containsKey(PROP_INITIAL_WINDOW_SIZE))   setWindowSize(getInt(opts,PROP_INITIAL_WINDOW_SIZE,INITIAL_WINDOW_SIZE));
  if (opts.containsKey(PROP_MAX_RESENDS))   setMaxResends(getInt(opts,PROP_MAX_RESENDS,DEFAULT_MAX_SENDS));
  if (opts.containsKey(PROP_WRITE_TIMEOUT))   setWriteTimeout(getInt(opts,PROP_WRITE_TIMEOUT,-1));
  if (opts.containsKey(PROP_INACTIVITY_TIMEOUT))   setInactivityTimeout(getInt(opts,PROP_INACTIVITY_TIMEOUT,90 * 1000));
  if (opts.containsKey(PROP_INACTIVITY_ACTION))   setInactivityAction(getInt(opts,PROP_INACTIVITY_ACTION,INACTIVITY_ACTION_SEND));
  setInboundBufferSize(getMaxMessageSize() * (Connection.MAX_WINDOW_SIZE + 2));
  if (opts.contains(PROP_CONGESTION_AVOIDANCE_GROWTH_RATE_FACTOR))   setCongestionAvoidanceGrowthRateFactor(getInt(opts,PROP_CONGESTION_AVOIDANCE_GROWTH_RATE_FACTOR,2));
  if (opts.contains(PROP_SLOW_START_GROWTH_RATE_FACTOR))   setSlowStartGrowthRateFactor(getInt(opts,PROP_SLOW_START_GROWTH_RATE_FACTOR,2));
  if (opts.containsKey(PROP_CONNECT_TIMEOUT))   setConnectTimeout(getInt(opts,PROP_CONNECT_TIMEOUT,Connection.DISCONNECT_TIMEOUT));
  if (opts.containsKey(PROP_ANSWER_PINGS))   setAnswerPings(getBool(opts,PROP_ANSWER_PINGS,DEFAULT_ANSWER_PINGS));
}
