{
  if (_locallyClosed)   throw new IOException("Already closed, you wanker");
  throwAnyError();
synchronized (_dataLock) {
    if (_readyDataBlocks.size() <= 0)     return 0;
    int numBytes=0;
    for (int i=0; i < _readyDataBlocks.size(); i++) {
      ByteArray cur=(ByteArray)_readyDataBlocks.get(i);
      if (i == 0)       numBytes+=cur.getData().length - _readyDataBlockIndex;
 else       numBytes+=cur.getData().length;
    }
    return numBytes;
  }
}
