{
  if (_locallyClosed)   throw new IOException("Already closed, you wanker");
  throwAnyError();
  int numBytes=0;
synchronized (_dataLock) {
    for (int i=0; i < _readyDataBlocks.size(); i++) {
      ByteArray cur=(ByteArray)_readyDataBlocks.get(i);
      if (i == 0)       numBytes+=cur.getData().length - _readyDataBlockIndex;
 else       numBytes+=cur.getData().length;
    }
  }
  if (_log.shouldLog(Log.DEBUG))   _log.info("available(): " + numBytes + " "+ toString());
  return numBytes;
}
