{
synchronized (_dataLock) {
    while (_readyDataBlocks.size() > 0)     _cache.release((ByteArray)_readyDataBlocks.remove(0));
    for (Iterator iter=_notYetReadyBlocks.values().iterator(); iter.hasNext(); ) {
      ByteArray ba=(ByteArray)iter.next();
      _cache.release(ba);
    }
    _locallyClosed=true;
    _dataLock.notifyAll();
  }
}
