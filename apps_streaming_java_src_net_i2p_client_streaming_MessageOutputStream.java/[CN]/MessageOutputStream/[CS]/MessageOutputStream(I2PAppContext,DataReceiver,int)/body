{
  super();
  _dataCache=ByteCache.getInstance(128,bufSize);
  _context=ctx;
  _log=ctx.logManager().getLog(MessageOutputStream.class);
  _buf=_dataCache.acquire().getData();
  _dataReceiver=receiver;
  _dataLock=new Object();
  _written=0;
  _closed=false;
  _writeTimeout=-1;
  _passiveFlushDelay=2 * 1000;
  _flusher=new Flusher();
  if (_log.shouldLog(Log.DEBUG))   _log.debug("MessageOutputStream created");
}
