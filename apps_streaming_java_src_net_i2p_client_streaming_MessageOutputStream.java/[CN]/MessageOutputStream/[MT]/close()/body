{
  if (_closed)   return;
  _closed=true;
  flush();
  _log.debug("Output stream closed after writing " + _written);
  if (_buf != null) {
    _dataCache.release(new ByteArray(_buf));
    _buf=null;
  }
}
