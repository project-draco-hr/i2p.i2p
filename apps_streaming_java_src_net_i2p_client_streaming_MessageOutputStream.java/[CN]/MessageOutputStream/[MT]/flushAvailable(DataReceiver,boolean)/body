{
  WriteStatus ws=null;
synchronized (_dataLock) {
    ws=target.writeData(_buf,0,_valid);
    _written+=_valid;
    _valid=0;
    _dataLock.notifyAll();
    _lastFlushed=_context.clock().now();
  }
  if (blocking && ws != null) {
    ws.waitForAccept(_writeTimeout);
    if (ws.writeFailed())     throw new IOException("Flush available failed");
 else     if (!ws.writeAccepted())     throw new InterruptedIOException("Flush available timed out");
  }
  return;
}
