{
  byte data[]=null;
  try {
    data=session.receiveMessage(msgId);
  }
 catch (  I2PSessionException ise) {
    _context.statManager().addRateData("stream.packetReceiveFailure",1);
    if (_log.shouldLog(Log.WARN))     _log.warn("Error receiving the message",ise);
    return;
  }
  if (data == null)   return;
  Packet packet=new Packet();
  try {
    packet.readPacket(data,0,data.length);
    packet.setRemotePort(fromPort);
    packet.setLocalPort(toPort);
    _manager.getPacketHandler().receivePacket(packet);
  }
 catch (  IllegalArgumentException iae) {
    _context.statManager().addRateData("stream.packetReceiveFailure",1);
    if (_log.shouldLog(Log.WARN))     _log.warn("Received an invalid packet",iae);
  }
}
