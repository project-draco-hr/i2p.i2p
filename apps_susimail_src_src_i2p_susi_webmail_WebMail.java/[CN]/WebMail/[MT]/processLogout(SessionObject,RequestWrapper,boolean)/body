{
  if (buttonPressed(request,LOGOUT) && isPOST) {
    Debug.debug(Debug.DEBUG,"LOGOUT, REMOVING SESSION");
    HttpSession session=request.getSession();
    session.removeAttribute("sessionObject");
    session.invalidate();
    POP3MailBox mailbox=sessionObject.mailbox;
    if (mailbox != null) {
      mailbox.destroy();
      sessionObject.mailbox=null;
      sessionObject.mailCache=null;
    }
    sessionObject.info+=_("User logged out.") + "<br>";
    sessionObject.state=STATE_AUTH;
  }
 else   if (sessionObject.mailbox == null) {
    sessionObject.error+=_("Internal error, lost connection.") + "<br>";
    sessionObject.state=STATE_AUTH;
  }
}
