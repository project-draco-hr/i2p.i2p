{
synchronized (synchronizer) {
    Debug.debug(Debug.DEBUG,"getHeader(" + id + ")");
    Integer idObj=Integer.valueOf(id);
    ReadBuffer header=null;
    if (id >= 1 && id <= mails) {
      header=(ReadBuffer)headerList.get(idObj);
      if (header == null) {
        header=sendCmdN("TOP " + id + " 0");
      }
      if (header == null) {
        header=sendCmdN("RETR " + id);
      }
      if (header != null) {
        headerList.put(idObj,header);
      }
    }
 else {
      lastError="Message id out of range.";
    }
    return header;
  }
}
