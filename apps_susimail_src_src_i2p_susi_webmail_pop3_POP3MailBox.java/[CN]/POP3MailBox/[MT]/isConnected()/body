{
  if (socket == null || !socket.isConnected() || socket.isInputShutdown() || socket.isOutputShutdown() || socket.isClosed()) {
    connected=false;
  }
  return connected;
}
