{
  ReadBuffer result=null;
synchronized (synchronizer) {
    if (!isConnected())     connect();
    try {
      result=sendCmdNa(cmd,bufSize);
    }
 catch (    IOException e) {
      lastError=e.getMessage();
      Debug.debug(Debug.DEBUG,"sendCmdNa throws IOException: " + lastError);
      result=null;
    }
    if (result == null) {
      connect();
      if (connected) {
        try {
          result=sendCmdNa(cmd,bufSize);
        }
 catch (        IOException e2) {
          lastError=e2.getMessage();
          Debug.debug(Debug.DEBUG,"2nd sendCmdNa throws IOException: " + lastError);
          result=null;
        }
      }
 else {
        Debug.debug(Debug.DEBUG,"not connected after reconnect");
      }
    }
  }
  return result;
}
