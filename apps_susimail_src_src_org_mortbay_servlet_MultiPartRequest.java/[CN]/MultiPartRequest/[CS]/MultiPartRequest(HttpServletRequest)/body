{
  _request=request;
  String content_type=request.getHeader(HttpFields.__ContentType);
  if (!content_type.startsWith("multipart/form-data"))   throw new IOException("Not multipart/form-data request");
  if (log.isDebugEnabled())   log.debug("Multipart content type = " + content_type);
  _encoding=request.getCharacterEncoding();
  if (_encoding != null)   _in=new LineInput(request.getInputStream(),2048,_encoding);
 else   _in=new LineInput(request.getInputStream());
  _boundary="--" + value(content_type.substring(content_type.indexOf("boundary=")));
  if (log.isDebugEnabled())   log.debug("Boundary=" + _boundary);
  _byteBoundary=(_boundary + "--").getBytes(StringUtil.__ISO_8859_1);
  loadAllParts();
}
