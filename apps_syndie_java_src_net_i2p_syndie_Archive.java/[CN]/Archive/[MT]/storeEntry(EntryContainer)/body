{
  if (container == null)   return false;
  BlogURI uri=container.getURI();
  if (uri == null)   return false;
  File blogDir=new File(_rootDir,uri.getKeyHash().toBase64());
  blogDir.mkdirs();
  File entryFile=new File(blogDir,getEntryFilename(uri.getEntryId()));
  if (entryFile.exists())   return true;
  BlogInfo info=getBlogInfo(uri);
  if (info == null) {
    _log.error("no blog metadata for the uri " + uri);
    return false;
  }
  if (!container.verifySignature(_context,info)) {
    _log.error("Not storing the invalid blog entry at " + uri);
    return false;
  }
 else {
  }
  try {
    ByteArrayOutputStream baos=new ByteArrayOutputStream();
    container.write(baos,true);
    byte data[]=baos.toByteArray();
    FileOutputStream out=new FileOutputStream(entryFile);
    out.write(data);
    out.close();
    container.setCompleteSize(data.length);
    return true;
  }
 catch (  IOException ioe) {
    _log.error("Error storing",ioe);
    return false;
  }
}
