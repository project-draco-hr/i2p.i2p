{
  _context=ctx;
  File root=new File(rootDir);
  root.mkdirs();
  _blogKeyDir=new File(root,"blogkeys");
  _privKeyDir=new File(root,"privkeys");
  String archiveDir=_context.getProperty("syndie.archiveDir");
  if (archiveDir != null)   _archiveDir=new File(archiveDir);
 else   _archiveDir=new File(root,"archive");
  _userDir=new File(root,"users");
  _cacheDir=new File(root,"cache");
  _tempDir=new File(root,"temp");
  _blogKeyDir.mkdirs();
  _privKeyDir.mkdirs();
  _archiveDir.mkdirs();
  _cacheDir.mkdirs();
  _userDir.mkdirs();
  _tempDir.mkdirs();
  _archive=new Archive(ctx,_archiveDir.getAbsolutePath(),_cacheDir.getAbsolutePath());
  _archive.regenerateIndex();
}
