{
  BufferedReader in=null;
  try {
    Properties props=new Properties();
    FileInputStream fin=new FileInputStream(userFile);
    in=new BufferedReader(new InputStreamReader(fin,"UTF-8"));
    String line=null;
    while ((line=in.readLine()) != null) {
      int split=line.indexOf('=');
      if (split <= 0)       continue;
      String key=line.substring(0,split);
      String val=line.substring(split + 1);
      props.setProperty(key.trim(),val.trim());
    }
    String userHash=userFile.getName();
    props.setProperty(User.PROP_USERHASH,userHash);
    return props;
  }
 catch (  IOException ioe) {
    return null;
  }
 finally {
    if (in != null)     try {
      in.close();
    }
 catch (    IOException ioe) {
    }
  }
}
