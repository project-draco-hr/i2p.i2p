{
  int idx;
  idx=messageId.lastIndexOf(":");
  String lineToCompare=messageId.substring(0,idx - 1);
  idx=lineToCompare.lastIndexOf(":");
  lineToCompare=lineToCompare.substring(0,idx - 1);
  FileInputStream his=null;
  try {
    his=new FileInputStream(historyFile);
    String line;
    while ((line=readLine(his)) != null) {
      idx=line.lastIndexOf(":");
      if (idx < 0)       return false;
      line=line.substring(0,idx - 1);
      idx=line.lastIndexOf(":");
      if (idx < 0)       return false;
      line=line.substring(0,idx - 1);
      if (line.equals(lineToCompare))       return true;
    }
  }
 catch (  FileNotFoundException e) {
    e.printStackTrace();
  }
 finally {
    if (his != null)     try {
      his.close();
    }
 catch (    IOException ioe) {
    }
  }
  return false;
}
