{
  FileOutputStream hos=null;
  try {
    hos=new FileOutputStream(_state.historyFile,false);
    Iterator iter=_state.history.iterator();
    while (iter.hasNext()) {
      String historyLine=(String)iter.next();
      hos.write(historyLine.getBytes());
      hos.write("\n".getBytes());
    }
  }
 catch (  FileNotFoundException e) {
    e.printStackTrace();
  }
catch (  IOException e) {
    e.printStackTrace();
  }
 finally {
    if (hos != null)     try {
      hos.close();
    }
 catch (    IOException ioe) {
    }
  }
}
