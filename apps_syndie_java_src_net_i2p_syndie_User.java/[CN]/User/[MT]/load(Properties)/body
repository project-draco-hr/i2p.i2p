{
  _authenticated=false;
  _hashedPassword=props.getProperty("password");
  _userHash=props.getProperty(PROP_USERHASH);
  String b=props.getProperty("blog");
  if (b != null)   _blog=new Hash(Base64.decode(b));
  String id=props.getProperty("lastid");
  if (id != null)   try {
    _mostRecentEntry=Long.parseLong(id);
  }
 catch (  NumberFormatException nfe) {
  }
  id=props.getProperty("lastmetaedition");
  if (id != null)   try {
    _lastMetaEntry=Long.parseLong(id);
  }
 catch (  NumberFormatException nfe) {
  }
  StringTokenizer tok=new StringTokenizer(props.getProperty("groups","")," ");
  while (tok.hasMoreTokens()) {
    String group=tok.nextToken();
    int endName=group.indexOf(':');
    if (endName <= 0)     continue;
    String groupName=group.substring(0,endName);
    String sel=group.substring(endName + 1);
    List selectors=new ArrayList();
    while ((sel != null) && (sel.length() > 0)) {
      int end=sel.indexOf(',');
      if (end < 0) {
        selectors.add(sel);
        sel=null;
      }
 else {
        if (end + 1 >= sel.length()) {
          selectors.add(sel.substring(0,end));
          sel=null;
        }
 else         if (end == 0) {
          sel=sel.substring(1);
        }
 else {
          selectors.add(sel.substring(0,end));
          sel=sel.substring(end + 1);
        }
      }
    }
    _blogGroups.put(groupName.trim(),selectors);
  }
  tok=new StringTokenizer(props.getProperty("shitlistedblogs",""),",");
  while (tok.hasMoreTokens()) {
    String blog=tok.nextToken();
    byte bl[]=Base64.decode(blog);
    if ((bl != null) && (bl.length == Hash.HASH_LENGTH))     _shitlistedBlogs.add(new Hash(bl));
  }
  String addr=props.getProperty("addressbook","userhosts.txt");
  if (addr != null) {
    _addressbookLocation=addr;
    try {
      _petnames.load(addr);
    }
 catch (    IOException ioe) {
      ioe.printStackTrace();
    }
  }
  String show=props.getProperty("showimages","true");
  _showImagesByDefault=(show != null) && (show.equals("true"));
  show=props.getProperty("showexpanded","false");
  _showExpandedByDefault=(show != null) && (show.equals("true"));
  _defaultSelector=props.getProperty("defaultselector");
  String allow=props.getProperty("allowaccessremote","false");
  _allowAccessRemote=(allow != null) && (allow.equals("true"));
  _eepProxyPort=getInt(props.getProperty("eepproxyport"));
  _webProxyPort=getInt(props.getProperty("webproxyport"));
  _torProxyPort=getInt(props.getProperty("torproxyport"));
  _eepProxyHost=props.getProperty("eepproxyhost");
  _webProxyHost=props.getProperty("webproxyhost");
  _torProxyHost=props.getProperty("torproxyhost");
}
