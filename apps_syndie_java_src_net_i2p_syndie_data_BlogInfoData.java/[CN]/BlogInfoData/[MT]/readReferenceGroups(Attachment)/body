{
  InputStream in=null;
  try {
    in=att.getDataStream();
    StringBuffer line=new StringBuffer(128);
    List groups=new ArrayList();
    String prevGroup=null;
    List defaultGroup=new ArrayList();
    while (true) {
      boolean ok=DataHelper.readLine(in,line);
      if (line.length() > 0) {
        PetName pn=new PetName(line.toString().trim());
        if (pn.getGroupCount() <= 0) {
          defaultGroup.add(pn);
        }
 else         if (pn.getGroup(0).equals(prevGroup)) {
          List curGroup=(List)groups.get(groups.size() - 1);
          curGroup.add(pn);
        }
 else {
          List curGroup=new ArrayList();
          curGroup.add(pn);
          groups.add(curGroup);
          prevGroup=pn.getGroup(0);
        }
      }
      if (!ok)       break;
    }
    if (defaultGroup.size() > 0)     groups.add(defaultGroup);
    _referenceGroups=groups;
  }
  finally {
    if (in != null)     try {
      in.close();
    }
 catch (    IOException ioe) {
    }
  }
}
