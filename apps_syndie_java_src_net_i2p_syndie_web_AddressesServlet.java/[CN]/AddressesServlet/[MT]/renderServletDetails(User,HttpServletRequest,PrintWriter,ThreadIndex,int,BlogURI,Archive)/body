{
  if (!user.getAuthenticated()) {
    out.write("<tr><td colspan=\"3\">You must log in to view your addressbook</d></tr>\n");
  }
 else {
    PetNameDB db=user.getPetNameDB();
    String uri=req.getRequestURI();
    PetName pn=buildNewName(req,PROTO_BLOG);
    _log.debug("pn for protoBlog [" + req.getParameter(PARAM_PROTO) + "]: "+ pn);
    renderBlogs(user,db,uri,pn,out);
    pn=buildNewName(req,PROTO_ARCHIVE);
    _log.debug("pn for protoArchive [" + req.getParameter(PARAM_PROTO) + "]: "+ pn);
    renderArchives(user,db,uri,pn,out);
    pn=buildNewName(req,PROTO_TAG);
    _log.debug("pn for protoTag [" + req.getParameter(PARAM_TAG) + "]: "+ pn);
    renderTags(user,db,uri,pn,out);
    pn=buildNewName(req,PROTO_I2PHEX);
    _log.debug("pn for protoPhex [" + req.getParameter(PARAM_PROTO) + "]: "+ pn);
    renderI2Phex(user,db,uri,pn,out);
    pn=buildNewName(req,PROTO_EEPSITE);
    _log.debug("pn for protoEep [" + req.getParameter(PARAM_PROTO) + "]: "+ pn);
    renderEepsites(user,db,uri,pn,out);
    pn=buildNewName(req);
    _log.debug("pn for proto other [" + req.getParameter(PARAM_PROTO) + "]: "+ pn);
    renderOther(user,db,uri,pn,out);
  }
}
