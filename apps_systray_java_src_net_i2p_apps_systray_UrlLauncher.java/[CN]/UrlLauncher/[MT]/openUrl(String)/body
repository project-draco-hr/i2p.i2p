{
  String osName=System.getProperty("os.name");
  waitForServer(url);
  if (validateUrlFormat(url)) {
    if (osName.toLowerCase().indexOf("mac") > -1) {
      if (osName.toLowerCase().startsWith("mac os x")) {
        if (_shellCommand.executeSilentAndWaitTimed("safari " + url,5))         return true;
      }
 else {
        return false;
      }
      if (_shellCommand.executeSilentAndWaitTimed("iexplore " + url,5))       return true;
    }
 else     if (osName.startsWith("Windows")) {
      String browserString="\"C:\\Program Files\\Internet Explorer\\iexplore.exe\" -nohome";
      BufferedReader bufferedReader=null;
      File foo=new File(I2PAppContext.getGlobalContext().getTempDir(),"browser.reg");
      _shellCommand.executeSilentAndWait("regedit /E \"" + foo.getAbsolutePath() + "\" \"HKEY_CLASSES_ROOT\\http\\shell\\open\\command\"");
      try {
        bufferedReader=new BufferedReader(new InputStreamReader(new FileInputStream(foo),"UTF-16"));
        for (String line; (line=bufferedReader.readLine()) != null; ) {
          if (line.startsWith("@=")) {
            browserString=line.substring(3,line.toLowerCase().indexOf(".exe") + 4);
            if (browserString.startsWith("\\\""))             browserString=browserString.substring(2);
            browserString="\"" + browserString + "\"";
          }
        }
        try {
          bufferedReader.close();
        }
 catch (        IOException e) {
        }
        foo.delete();
      }
 catch (      Exception e) {
      }
 finally {
        if (bufferedReader != null)         try {
          bufferedReader.close();
        }
 catch (        IOException ioe) {
        }
      }
      if (_shellCommand.executeSilentAndWaitTimed(browserString + " " + url,5))       return true;
    }
 else {
    }
    if (_shellCommand.executeSilentAndWaitTimed("sensible-browser " + url,5))     return true;
    if (_shellCommand.executeSilentAndWaitTimed("x-www-browser " + url,5))     return true;
    if (_shellCommand.executeSilentAndWaitTimed("defaultbrowser " + url,5))     return true;
    if (_shellCommand.executeSilentAndWaitTimed("opera -newpage " + url,5))     return true;
    if (_shellCommand.executeSilentAndWaitTimed("firefox " + url,5))     return true;
    if (_shellCommand.executeSilentAndWaitTimed("mozilla " + url,5))     return true;
    if (_shellCommand.executeSilentAndWaitTimed("netscape " + url,5))     return true;
    if (_shellCommand.executeSilentAndWaitTimed("konqueror " + url,5))     return true;
    if (_shellCommand.executeSilentAndWaitTimed("galeon " + url,5))     return true;
    if (_shellCommand.executeSilentAndWaitTimed("www-browser " + url,5))     return true;
    if (_shellCommand.executeSilentAndWaitTimed("links " + url,5))     return true;
    if (_shellCommand.executeSilentAndWaitTimed("lynx " + url,5))     return true;
  }
  return false;
}
