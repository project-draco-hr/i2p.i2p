{
  events++;
  if (events % REPORT_DELAY == 0) {
    int packets=packetLosses + delayCount;
    long delaySummary=0;
    for (int i=0; i < SUMMARY_SIZE; i++) {
      delaySummary+=lastDelays[i];
    }
    System.out.println("++++++++++++++++ ECHO STATISTICS +++++++++++++++++++++++++" + "\n++ Number of total echo messages: " + packets + "\n++ No response for "+ packetLosses+ "\n++    (of which "+ packetLossesDisconnect+ " due to a disconnect)"+ "\n++ Disconnects: "+ disconnects+ "\n++    (of which "+ disconnectsRefused+ " due to 'connection refused')"+ (disconnects > 0 || true ? "\n++ Average lost packets per disconnect: " + (packetLossesDisconnect / (float)disconnects) : "")+ "\n++++++++++++++++++++++++++++++++++++++++++++++++++++++++"+ "\n++ Minimal delay: "+ minDelay+ "\n++ Average delay: "+ (delaySum / (float)delayCount)+ "\n++ Maximal delay: "+ maxDelay+ (delayCount >= SUMMARY_SIZE ? "\n++ Average delay over last " + SUMMARY_SIZE + ": "+ (delaySummary / (float)SUMMARY_SIZE) : "")+ "\n++++++++++++++++++++++++++++++++++++++++++++++++++++++++");
  }
}
