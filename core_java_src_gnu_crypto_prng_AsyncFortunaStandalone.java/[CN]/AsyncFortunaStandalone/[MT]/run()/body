{
  while (_isRunning) {
    AsyncBuffer aBuff=null;
    try {
      aBuff=_emptyBuffers.take();
    }
 catch (    InterruptedException ie) {
      continue;
    }
    long before=System.currentTimeMillis();
    doFill(aBuff.buffer);
    long after=System.currentTimeMillis();
    _fullBuffers.offer(aBuff);
    _context.statManager().addRateData("prng.bufferFillTime",after - before,0);
    Thread.yield();
    long waitTime=(after - before) * 5;
    if (waitTime <= 0)     waitTime=50;
    try {
      Thread.sleep(waitTime);
    }
 catch (    InterruptedException ie) {
    }
  }
}
