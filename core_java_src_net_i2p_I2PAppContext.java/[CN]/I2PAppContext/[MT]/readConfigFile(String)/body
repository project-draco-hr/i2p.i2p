{
  Log log=logManager().getLog(I2PAppContext.class);
  if (log != null && log.shouldLog(Log.DEBUG))   log.debug("Config file: " + configFilename,new Exception("location"));
  Properties props=new Properties();
  try {
    File f=new File(configFilename);
    if (!f.isAbsolute()) {
      f=new File(this.getConfigDir(),configFilename);
    }
    if (f.canRead()) {
      DataHelper.loadProps(props,f);
    }
 else {
      if (log != null)       log.warn("Configuration file " + configFilename + " does not exist");
    }
  }
 catch (  Exception ioe) {
    if (log.shouldLog(Log.ERROR)) {
      if (log != null)       log.error("Error loading the router configuration from " + configFilename,ioe);
 else       System.err.println("Error loading the router configuration from " + configFilename + ": "+ ioe);
    }
  }
  return props;
}
