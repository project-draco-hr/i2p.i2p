{
synchronized (this) {
    Log log=logManager().getLog(I2PAppContext.class);
    try {
      File f=new File(configFilename);
      if (!f.isAbsolute()) {
        f=new File(this.getConfigDir(),configFilename);
      }
      if (f.canWrite()) {
        DataHelper.storeProps(props,f);
      }
 else {
        if (log != null && log.shouldLog(Log.WARN))         log.warn("Configuration file " + configFilename + " cannot be written");
        return false;
      }
    }
 catch (    IOException ioe) {
      if (log.shouldLog(Log.ERROR)) {
        if (log != null)         log.error("Error saving the config to " + filename,ioe);
 else         System.err.println("Error saving the config to " + filename,ioe);
      }
      return false;
    }
  }
  return true;
}
