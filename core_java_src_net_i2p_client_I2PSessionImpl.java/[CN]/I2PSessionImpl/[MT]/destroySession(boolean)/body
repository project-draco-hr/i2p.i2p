{
  while (_opening) {
synchronized (_openingWait) {
      try {
        _openingWait.wait(1000);
      }
 catch (      InterruptedException ie) {
      }
    }
  }
  if (_closed)   return;
  if (_log.shouldLog(Log.INFO))   _log.info(getPrefix() + "Destroy the session",new Exception("DestroySession()"));
  _closing=true;
  if (sendDisconnect && _producer != null) {
    try {
      _producer.disconnect(this);
    }
 catch (    I2PSessionException ipe) {
      propogateError("Error destroying the session",ipe);
    }
  }
  if (_availabilityNotifier != null)   _availabilityNotifier.stopNotifying();
  _closed=true;
  _closing=false;
  closeSocket();
  if (_sessionListener != null)   _sessionListener.disconnected(this);
}
