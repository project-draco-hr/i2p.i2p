{
  if (val > 0 && val <= codes[1])   return 1;
  for (int i=1; i < codes.length; i++) {
    if (val < codes[i])     return i - 1;
  }
  return codes.length - 1;
}
