{
  for (int i=0; i < dest.length; i++) {
    int val=read();
    if (val == -1) {
      if (_eofFound && (i == 0))       return -1;
 else       return i;
    }
 else {
      dest[i]=(byte)val;
    }
  }
  _log.debug("Read the full buffer of size " + dest.length);
  return dest.length;
}
