{
  int tags=0;
  long now=_context.clock().now();
synchronized (_tagSets) {
    for (int i=0; i < _tagSets.size(); i++) {
      TagSet set=(TagSet)_tagSets.get(i);
      if (set.getDate() + SESSION_TAG_DURATION_MS > now)       tags+=set.getTagCount();
    }
  }
  return tags;
}
