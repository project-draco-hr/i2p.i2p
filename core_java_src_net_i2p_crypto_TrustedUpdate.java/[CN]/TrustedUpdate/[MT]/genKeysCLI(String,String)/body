{
  FileOutputStream out=null;
  try {
    I2PAppContext ctx=I2PAppContext.getGlobalContext();
    Object keys[]=ctx.keyGenerator().generateSigningKeypair();
    SigningPublicKey pub=(SigningPublicKey)keys[0];
    SigningPrivateKey priv=(SigningPrivateKey)keys[1];
    out=new FileOutputStream(publicKeyFile);
    pub.writeBytes(out);
    out.close();
    out=new FileOutputStream(privateKeyFile);
    priv.writeBytes(out);
    out.close();
    out=null;
    System.out.println("Private keys writen to " + privateKeyFile + " and public to "+ publicKeyFile);
    System.out.println("Public: " + pub.toBase64());
  }
 catch (  Exception e) {
    e.printStackTrace();
    System.err.println("Error writing out the keys");
  }
 finally {
    if (out != null)     try {
      out.close();
    }
 catch (    IOException ioe) {
    }
  }
}
