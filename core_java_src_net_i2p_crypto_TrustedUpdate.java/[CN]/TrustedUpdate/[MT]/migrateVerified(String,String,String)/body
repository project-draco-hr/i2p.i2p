{
  if (!isUpdatedVersion(currentVersion,signedFile))   return "Downloaded version is not greater than current version";
  if (!verify(signedFile))   return "Unknown signing key or corrupt file";
  FileInputStream fileInputStream=null;
  FileOutputStream fileOutputStream=null;
  try {
    fileInputStream=new FileInputStream(signedFile);
    fileOutputStream=new FileOutputStream(outputFile);
    long skipped=0;
    while (skipped < HEADER_BYTES)     skipped+=fileInputStream.skip(HEADER_BYTES - skipped);
    byte[] buffer=new byte[1024];
    int bytesRead=0;
    while ((bytesRead=fileInputStream.read(buffer)) != -1)     fileOutputStream.write(buffer,0,bytesRead);
  }
 catch (  IOException ioe) {
    return "I/O Exception during file extraction";
  }
 finally {
    if (fileInputStream != null)     try {
      fileInputStream.close();
    }
 catch (    IOException ioe) {
    }
    if (fileOutputStream != null)     try {
      fileOutputStream.close();
    }
 catch (    IOException ioe) {
    }
  }
  return null;
}
