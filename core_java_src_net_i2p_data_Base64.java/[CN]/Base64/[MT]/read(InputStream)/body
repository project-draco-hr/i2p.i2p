{
  ByteArrayOutputStream baos=new ByteArrayOutputStream(4096);
  byte buf[]=new byte[4096];
  while (true) {
    int read=in.read(buf);
    if (read < 0)     break;
    baos.write(buf,0,read);
  }
  return baos.toByteArray();
}
