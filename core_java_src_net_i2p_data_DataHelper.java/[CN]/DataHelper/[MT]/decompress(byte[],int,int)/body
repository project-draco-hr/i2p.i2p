{
  if ((orig == null) || (orig.length <= 0))   return orig;
  ReusableGZIPInputStream in=ReusableGZIPInputStream.acquire();
  in.initialize(new ByteArrayInputStream(orig,offset,length));
  ByteCache cache=ByteCache.getInstance(16,MAX_UNCOMPRESSED);
  ByteArray outBuf=cache.acquire();
  int written=0;
  while (true) {
    int read=in.read(outBuf.getData(),written,MAX_UNCOMPRESSED - written);
    if (read == -1)     break;
    written+=read;
  }
  byte rv[]=new byte[written];
  System.arraycopy(outBuf.getData(),0,rv,0,written);
  cache.release(outBuf);
  return rv;
}
