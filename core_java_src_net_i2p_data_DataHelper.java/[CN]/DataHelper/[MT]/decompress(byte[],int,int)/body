{
  if ((orig == null) || (orig.length <= 0))   return orig;
  GZIPInputStream in=new GZIPInputStream(new ByteArrayInputStream(orig,offset,length),length);
  CachingByteArrayOutputStream baos=new CachingByteArrayOutputStream(16,40 * 1024);
  ByteCache cache=ByteCache.getInstance(10,4 * 1024);
  ByteArray ba=cache.acquire();
  byte buf[]=ba.getData();
  while (true) {
    int read=in.read(buf);
    if (read == -1)     break;
    baos.write(buf,0,read);
  }
  byte rv[]=baos.toByteArray();
  cache.release(ba);
  baos.releaseBuffer();
  return rv;
}
