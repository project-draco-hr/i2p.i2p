{
  int size=(int)fromLong(source,offset,2);
  offset+=2;
  ByteArrayInputStream in=new ByteArrayInputStream(source,offset,size);
  byte eqBuf[]=new byte[EQUAL_BYTES.length];
  byte semiBuf[]=new byte[SEMICOLON_BYTES.length];
  while (in.available() > 0) {
    String key=readString(in);
    int read=read(in,eqBuf);
    if ((read != eqBuf.length) || (!eq(eqBuf,EQUAL_BYTES))) {
      break;
    }
    String val=readString(in);
    read=read(in,semiBuf);
    if ((read != semiBuf.length) || (!eq(semiBuf,SEMICOLON_BYTES))) {
      break;
    }
    target.put(key,val);
  }
  return offset + size;
}
