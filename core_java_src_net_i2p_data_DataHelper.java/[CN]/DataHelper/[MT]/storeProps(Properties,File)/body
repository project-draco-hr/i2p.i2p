{
  PrintWriter out=null;
  try {
    out=new PrintWriter(new BufferedWriter(new OutputStreamWriter(new SecureFileOutputStream(file),"UTF-8")));
    out.println("# NOTE: This I2P config file must use UTF-8 encoding");
    for (    Map.Entry entry : props.entrySet()) {
      String name=(String)entry.getKey();
      String val=(String)entry.getValue();
      out.println(name + "=" + val);
    }
  }
  finally {
    if (out != null)     out.close();
  }
}
