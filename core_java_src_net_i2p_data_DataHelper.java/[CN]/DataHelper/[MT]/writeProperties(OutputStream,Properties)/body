{
  if (props != null) {
    OrderedProperties p=new OrderedProperties();
    p.putAll(props);
    ByteArrayOutputStream baos=new ByteArrayOutputStream(32);
    for (Iterator iter=p.keySet().iterator(); iter.hasNext(); ) {
      String key=(String)iter.next();
      String val=p.getProperty(key);
      writeString(baos,key);
      baos.write(_equalBytes);
      writeString(baos,val);
      baos.write(_semicolonBytes);
    }
    baos.close();
    byte propBytes[]=baos.toByteArray();
    writeLong(rawStream,2,propBytes.length);
    rawStream.write(propBytes);
  }
 else {
    writeLong(rawStream,2,0);
  }
}
