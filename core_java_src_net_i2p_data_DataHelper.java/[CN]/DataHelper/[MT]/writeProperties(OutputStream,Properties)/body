{
  OrderedProperties p=new OrderedProperties();
  if (props != null)   p.putAll(props);
  ByteArrayOutputStream baos=new ByteArrayOutputStream(32);
  for (Iterator iter=p.keySet().iterator(); iter.hasNext(); ) {
    String key=(String)iter.next();
    String val=p.getProperty(key);
    key=new String(key.getBytes(),"UTF-8");
    val=new String(val.getBytes(),"UTF-8");
    writeString(baos,key);
    baos.write(_equal.getBytes());
    writeString(baos,val);
    baos.write(_semicolon.getBytes());
  }
  baos.close();
  byte propBytes[]=baos.toByteArray();
  writeLong(rawStream,2,propBytes.length);
  rawStream.write(propBytes);
}
