{
  if (string == null) {
    writeLong(out,1,0);
  }
 else {
    int len=string.length();
    if (len > 255)     throw new DataFormatException("The I2P data spec limits strings to 255 bytes or less, but this is " + string.length() + " ["+ string+ "]");
    writeLong(out,1,len);
    for (int i=0; i < len; i++)     out.write((byte)(string.charAt(i) & 0xFF));
  }
}
