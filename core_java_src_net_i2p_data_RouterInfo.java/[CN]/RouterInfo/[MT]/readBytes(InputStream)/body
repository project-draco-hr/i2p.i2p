{
  _identity=new RouterIdentity();
  _identity.readBytes(in);
  Date when=DataHelper.readDate(in);
  if (when == null)   _published=0;
 else   _published=when.getTime();
  int numAddresses=(int)DataHelper.readLong(in,1);
  for (int i=0; i < numAddresses; i++) {
    RouterAddress address=new RouterAddress();
    address.readBytes(in);
    _addresses.add(address);
  }
  int numPeers=(int)DataHelper.readLong(in,1);
  if (numPeers == 0) {
    _peers=null;
  }
 else {
    _peers=new HashSet(numPeers);
    for (int i=0; i < numPeers; i++) {
      Hash peerIdentityHash=new Hash();
      peerIdentityHash.readBytes(in);
      _peers.add(peerIdentityHash);
    }
  }
  _options=DataHelper.readProperties(in);
  _signature=new Signature();
  _signature.readBytes(in);
  resetCache();
}
