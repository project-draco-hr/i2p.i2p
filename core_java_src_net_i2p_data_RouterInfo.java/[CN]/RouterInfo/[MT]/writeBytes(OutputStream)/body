{
  if (_identity == null)   throw new DataFormatException("Missing identity");
  if (_published < 0)   throw new DataFormatException("Invalid published date: " + _published);
  if (_signature == null)   throw new DataFormatException("Signature is null");
  ByteArrayOutputStream baos=new ByteArrayOutputStream(512);
  baos.write(getBytes());
  _signature.writeBytes(baos);
  byte data[]=baos.toByteArray();
  out.write(data);
}
