{
  long now=_context.clock().now();
  _cal.setTime(new Date(now));
  _cal.set(Calendar.YEAR,_cal.get(Calendar.YEAR));
  _cal.set(Calendar.DAY_OF_YEAR,_cal.get(Calendar.DAY_OF_YEAR));
  _cal.set(Calendar.HOUR_OF_DAY,0);
  _cal.set(Calendar.MINUTE,0);
  _cal.set(Calendar.SECOND,0);
  _cal.set(Calendar.MILLISECOND,0);
  Date today=_cal.getTime();
  String modVal=_fmt.format(today);
  if (modVal.length() != LENGTH)   throw new IllegalStateException();
  byte[] mod=new byte[LENGTH];
  for (int i=0; i < LENGTH; i++)   mod[i]=(byte)(modVal.charAt(i) & 0xFF);
  boolean changed=!DataHelper.eq(_currentModData,mod);
  if (changed) {
    _currentModData=mod;
    _lastChanged=now;
    if (_log.shouldLog(Log.INFO))     _log.info("Routing modifier generated: " + modVal);
  }
  return changed;
}
