{
  Date today=null;
  long now=_context.clock().now();
synchronized (_cal) {
    _cal.setTime(new Date(now));
    _cal.set(Calendar.YEAR,_cal.get(Calendar.YEAR));
    _cal.set(Calendar.DAY_OF_YEAR,_cal.get(Calendar.DAY_OF_YEAR));
    _cal.set(Calendar.HOUR_OF_DAY,0);
    _cal.set(Calendar.MINUTE,0);
    _cal.set(Calendar.SECOND,0);
    _cal.set(Calendar.MILLISECOND,0);
    today=_cal.getTime();
  }
  String modVal=_fmt.format(today);
  byte[] mod=new byte[modVal.length()];
  for (int i=0; i < modVal.length(); i++)   mod[i]=(byte)(modVal.charAt(i) & 0xFF);
  boolean changed=!DataHelper.eq(_currentModData,mod);
  if (changed) {
    _currentModData=mod;
    _lastChanged=now;
    if (_log.shouldLog(Log.INFO))     _log.info("Routing modifier generated: " + modVal);
  }
  return changed;
}
