{
  try {
    int length=(int)DataHelper.readLong(in,4);
    if (length < 0)     throw new I2CPMessageException("Invalid message length specified");
    int type=(int)DataHelper.readLong(in,1);
    I2CPMessage msg=createMessage(in,length,type);
    msg.readMessage(in,length,type);
    return msg;
  }
 catch (  DataFormatException dfe) {
    throw new I2CPMessageException("Error reading the message",dfe);
  }
}
