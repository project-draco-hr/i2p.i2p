{
  if ((_sessionId == null) || (_destination == null) || (_payload == null)|| (_nonce <= 0))   throw new I2CPMessageException("Unable to write out the message as there is not enough data");
  int len=2 + _destination.size() + _payload.getSize()+ 4+ 4;
  try {
    DataHelper.writeLong(out,4,len);
    DataHelper.writeLong(out,1,getType());
    _sessionId.writeBytes(out);
    _destination.writeBytes(out);
    _payload.writeBytes(out);
    DataHelper.writeLong(out,4,_nonce);
  }
 catch (  DataFormatException dfe) {
    throw new I2CPMessageException("Error writing the msg",dfe);
  }
}
