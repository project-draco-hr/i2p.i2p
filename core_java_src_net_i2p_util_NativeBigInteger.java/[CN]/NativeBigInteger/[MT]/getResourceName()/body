{
  String jbigiRefFile=System.getProperty("jbigi.ref");
  if (jbigiRefFile == null)   jbigiRefFile=DEFAULT_REF_FILENAME;
  File refFile=new File(jbigiRefFile);
  if (refFile.exists()) {
    BufferedReader in=null;
    try {
      in=new BufferedReader(new InputStreamReader(new FileInputStream(refFile)));
      String resourceName=in.readLine();
      if ((resourceName != null) || (resourceName.trim().length() <= 0))       return resourceName;
    }
 catch (    IOException ioe) {
      if (_doLog) {
        System.err.println("WARN: Unable to read the jbigi reference file " + jbigiRefFile);
        ioe.printStackTrace();
      }
    }
 finally {
      if (in != null) {
        try {
          in.close();
        }
 catch (        IOException ioe) {
        }
      }
    }
  }
  return System.getProperty("jbigi.impl");
}
