{
  if (l.equals(r))   return 0;
  StringTokenizer lTokens=new StringTokenizer(sanitize(l),VALID_SEPARATOR_CHARS);
  StringTokenizer rTokens=new StringTokenizer(sanitize(r),VALID_SEPARATOR_CHARS);
  while (lTokens.hasMoreTokens() && rTokens.hasMoreTokens()) {
    String lNumber=lTokens.nextToken();
    String rNumber=rTokens.nextToken();
    int diff=longCompare(lNumber,rNumber);
    if (diff != 0)     return diff;
  }
  if (lTokens.hasMoreTokens() && !rTokens.hasMoreTokens())   return 1;
  if (rTokens.hasMoreTokens() && !lTokens.hasMoreTokens())   return -1;
  return 0;
}
