{
  if (len >= MAX_SIZE)   throw new IllegalStateException("full");
  if (getMagic(freePage) == MAGIC_FREE) {
    BlockFile.log.error("Double free page " + freePage,new Exception());
    return;
  }
  branches[len++]=freePage;
  markFree(freePage);
  writeFreePage();
}
