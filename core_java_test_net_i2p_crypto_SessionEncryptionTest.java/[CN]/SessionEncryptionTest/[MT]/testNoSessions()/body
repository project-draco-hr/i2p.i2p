{
  Object keys[]=KeyGenerator.getInstance().generatePKIKeypair();
  PublicKey pubKey=(PublicKey)keys[0];
  PrivateKey privKey=(PrivateKey)keys[1];
  SessionKey curKey=SessionKeyManager.getInstance().createSession(pubKey);
  byte[] msg1="msg 1".getBytes();
  byte[] msg2="msg 2".getBytes();
  byte emsg1[]=ElGamalAESEngine.encrypt(msg1,pubKey,curKey,64);
  byte dmsg1[]=ElGamalAESEngine.decrypt(emsg1,privKey);
  if (DataHelper.eq(dmsg1,msg1))   _log.info("PASSED: No sessions msg 1");
 else   _log.error("FAILED: No sessions msg 1");
  byte emsg2[]=ElGamalAESEngine.encrypt(msg2,pubKey,curKey,64);
  byte dmsg2[]=ElGamalAESEngine.decrypt(emsg2,privKey);
  if (DataHelper.eq(dmsg2,msg2))   _log.info("PASSED: No sessions msg 2");
 else   _log.error("FAILED: No sessions msg 2");
}
