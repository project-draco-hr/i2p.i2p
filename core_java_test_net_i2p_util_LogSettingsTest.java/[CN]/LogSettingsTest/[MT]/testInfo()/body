{
  p.setProperty("logger.record.net.i2p.util.LogSettings",Log.toLevelString(Log.INFO));
  p.setProperty("logger.minimumOnScreenLevel",Log.toLevelString(Log.DEBUG));
  DataHelper.storeProps(p,f);
  _context.logManager().rereadConfig();
  PipedInputStream pin=new PipedInputStream();
  BufferedReader in=new BufferedReader(new InputStreamReader(pin));
  PrintStream systemOut=System.out;
  PrintStream pout=new PrintStream(new PipedOutputStream(pin));
  System.setOut(pout);
  log.debug("INFO" + ": debug");
  log.info("INFO" + ": info");
  log.warn("INFO" + ": warn");
  log.error("INFO" + ": error");
  log.log(Log.CRIT,"INFO" + ": crit");
  _context.logManager().shutdown();
  String l1=in.readLine();
  String l2=in.readLine();
  String l3=in.readLine();
  String l4=in.readLine();
  assertTrue(l1.matches(".*INFO: info") && l2.matches(".*INFO: warn") && l3.matches(".*INFO: error")&& l4.matches(".*INFO: crit"));
  System.setOut(systemOut);
}
