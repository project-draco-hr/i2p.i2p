{
  if (type != MESSAGE_TYPE)   throw new I2NPMessageException("Message type is incorrect for this message");
  try {
    _key=new Hash();
    _key.readBytes(in);
    int compressedLength=(int)DataHelper.readLong(in,2);
    byte compressedData[]=new byte[compressedLength];
    int read=DataHelper.read(in,compressedData);
    if (read != compressedLength)     throw new IOException("Not enough data to decompress");
    byte decompressedData[]=DataHelper.decompress(compressedData);
    if (decompressedData == null)     throw new I2NPMessageException("Could not decompress the " + compressedLength + "bytes of data");
    ByteArrayInputStream bais=new ByteArrayInputStream(decompressedData);
    int num=(int)DataHelper.readLong(bais,1);
    _routerInfoStructures.clear();
    for (int i=0; i < num; i++) {
      RouterInfo info=new RouterInfo();
      info.readBytes(bais);
      addReply(info);
    }
    _from=new Hash();
    _from.readBytes(in);
  }
 catch (  DataFormatException dfe) {
    throw new I2NPMessageException("Unable to load the message data",dfe);
  }
}
