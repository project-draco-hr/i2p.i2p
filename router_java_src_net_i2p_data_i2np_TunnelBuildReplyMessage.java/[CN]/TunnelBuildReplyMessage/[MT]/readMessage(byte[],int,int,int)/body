{
  if (type != MESSAGE_TYPE)   throw new I2NPMessageException("Message type is incorrect for this message");
  if (dataSize != calculateWrittenLength())   throw new I2NPMessageException("Wrong length (expects " + calculateWrittenLength() + ", recv "+ dataSize+ ")");
  for (int i=0; i < RECORD_COUNT; i++) {
    int off=offset + (i * RECORD_SIZE);
    int len=RECORD_SIZE;
    setRecord(i,new ByteArray(data,off,len));
  }
}
