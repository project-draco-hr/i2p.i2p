{
  if (type != MESSAGE_TYPE)   throw new I2NPMessageException("Message type is incorrect for this message");
  if (dataSize != calculateWrittenLength())   throw new I2NPMessageException("Wrong length (expects " + calculateWrittenLength() + ", recv "+ dataSize+ ")");
  int r=(int)DataHelper.fromLong(data,offset,1);
  if (r <= 0 || r > MAX_RECORD_COUNT)   throw new I2NPMessageException("Bad record count " + r);
  RECORD_COUNT=r;
  _records=new ByteArray[RECORD_COUNT];
  super.readMessage(data,offset + 1,dataSize,TunnelBuildMessage.MESSAGE_TYPE);
}
