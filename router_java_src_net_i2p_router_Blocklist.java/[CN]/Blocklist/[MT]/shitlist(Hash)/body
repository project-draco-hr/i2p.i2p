{
  _context.shitlist().shitlistRouterForever(peer,"IP Blocklisted");
  if (!"true".equals(_context.getProperty(PROP_BLOCKLIST_DETAIL,"true")))   return;
  boolean shouldRunJob;
  int number;
synchronized (_inProcess) {
    number=_inProcess.size();
    shouldRunJob=_inProcess.add(peer);
  }
  if (!shouldRunJob)   return;
  Job job=new ShitlistJob(peer);
  if (number > 0)   job.getTiming().setStartAfter(_context.clock().now() + (number * 30 * 1000));
  _context.jobQueue().addJob(job);
}
