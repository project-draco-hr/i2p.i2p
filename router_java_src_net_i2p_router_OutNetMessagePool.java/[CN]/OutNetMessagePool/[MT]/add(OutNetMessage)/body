{
  boolean valid=validate(msg);
  if (!valid) {
    _context.messageRegistry().unregisterPending(msg);
    return;
  }
  if (_log.shouldLog(Log.DEBUG))   _log.debug("Adding outbound message to " + msg.getTarget().getIdentity().getHash().toBase64().substring(0,6) + " with id "+ msg.getMessage().getUniqueId()+ " expiring on "+ msg.getMessage().getMessageExpiration()+ " of type "+ msg.getMessageType());
  MessageSelector selector=msg.getReplySelector();
  if (selector != null) {
    _context.messageRegistry().registerPending(msg);
  }
  _context.commSystem().processMessage(msg);
  return;
}
