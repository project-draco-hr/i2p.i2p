{
  _log=getContext().logManager().getLog(PersistRouterInfoJob.class);
  if (_log.shouldLog(Log.DEBUG))   _log.debug("Persisting updated router info");
  String infoFilename=getContext().getProperty(Router.PROP_INFO_FILENAME);
  if (infoFilename == null)   infoFilename=Router.PROP_INFO_FILENAME_DEFAULT;
  RouterInfo info=getContext().router().getRouterInfo();
  FileOutputStream fos=null;
  try {
    fos=FileStreamFactory.getFileOutputStream(infoFilename);
    info.writeBytes(fos);
  }
 catch (  DataFormatException dfe) {
    _log.error("Error rebuilding the router information",dfe);
  }
catch (  IOException ioe) {
    _log.error("Error writing out the rebuilt router information",ioe);
  }
 finally {
    if (fos != null)     try {
      fos.close();
    }
 catch (    IOException ioe) {
    }
  }
}
