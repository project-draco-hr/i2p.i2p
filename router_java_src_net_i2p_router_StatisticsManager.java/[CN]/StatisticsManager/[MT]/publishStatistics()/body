{
  Properties stats=new Properties();
  stats.setProperty("router.version",RouterVersion.VERSION);
  stats.setProperty("coreVersion",CoreVersion.VERSION);
  if (_includePeerRankings) {
    long publishedUptime=_context.router().getUptime();
    if (publishedUptime > 62 * 60 * 1000)     includeAverageThroughput(stats);
    boolean hideTotals=!RouterVersion.VERSION.equals("0.7.6");
    includeRate("tunnel.participatingTunnels",stats,new long[]{60 * 60 * 1000},hideTotals);
    long rate=60 * 60 * 1000;
    includeTunnelRates("Client",stats,rate);
    includeTunnelRates("Exploratory",stats,rate);
  }
  stats.setProperty("stat_uptime","90m");
  if (FloodfillNetworkDatabaseFacade.isFloodfill(_context.router().getRouterInfo())) {
    stats.setProperty("netdb.knownRouters","" + _context.netDb().getKnownRouters());
    stats.setProperty("netdb.knownLeaseSets","" + _context.netDb().getKnownLeaseSets());
  }
  return stats;
}
