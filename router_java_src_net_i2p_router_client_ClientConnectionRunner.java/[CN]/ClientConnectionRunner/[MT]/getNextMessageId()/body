{
synchronized (_messageIdLock) {
    int messageId=(++_messageId) % MAX_MESSAGE_ID;
    if (_messageId >= MAX_MESSAGE_ID)     _messageId=0;
    return messageId;
  }
}
