{
  _running=true;
  int curDelay=0;
  while ((_running) && (curDelay < MAX_FAIL_DELAY)) {
    try {
      _log.info("Starting up listening for connections on port " + _port);
      _socket=new ServerSocket(_port);
      curDelay=0;
      while (_running) {
        try {
          Socket socket=_socket.accept();
          if (validate(socket)) {
            if (_log.shouldLog(Log.DEBUG))             _log.debug("Connection received");
            runConnection(socket);
          }
 else {
            socket.close();
            if (_log.shouldLog(Log.WARN))             _log.warn("Refused connection from " + socket.getInetAddress().toString());
          }
        }
 catch (        IOException ioe) {
          _log.error("Server error accepting",ioe);
        }
catch (        Throwable t) {
          _log.error("Fatal error running client listener - killing the thread!",t);
          return;
        }
      }
    }
 catch (    IOException ioe) {
      _log.error("Error listening on port " + _port,ioe);
    }
    if (_socket != null) {
      try {
        _socket.close();
      }
 catch (      IOException ioe) {
      }
      _socket=null;
    }
    _log.error("Error listening, waiting " + _nextFailDelay + "ms before we try again");
    try {
      Thread.sleep(_nextFailDelay);
    }
 catch (    InterruptedException ie) {
    }
    curDelay+=_nextFailDelay;
    _nextFailDelay*=5;
  }
  _log.error("CANCELING I2CP LISTEN.  delay = " + curDelay,new Exception("I2CP Listen cancelled!!!"));
  _running=false;
}
