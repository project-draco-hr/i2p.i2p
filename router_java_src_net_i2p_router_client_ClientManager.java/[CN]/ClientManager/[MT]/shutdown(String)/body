{
  _isStarted=false;
  _log.info("Shutting down the ClientManager");
  if (_listener != null)   _listener.stopListening();
  Set<ClientConnectionRunner> runners=new HashSet<ClientConnectionRunner>();
synchronized (_runners) {
    for (Iterator<ClientConnectionRunner> iter=_runners.values().iterator(); iter.hasNext(); ) {
      ClientConnectionRunner runner=iter.next();
      runners.add(runner);
    }
  }
synchronized (_pendingRunners) {
    for (Iterator<ClientConnectionRunner> iter=_pendingRunners.iterator(); iter.hasNext(); ) {
      ClientConnectionRunner runner=iter.next();
      runners.add(runner);
    }
  }
  for (Iterator<ClientConnectionRunner> iter=runners.iterator(); iter.hasNext(); ) {
    ClientConnectionRunner runner=iter.next();
    runner.disconnectClient(msg,Log.WARN);
  }
  _runnersByHash.clear();
}
