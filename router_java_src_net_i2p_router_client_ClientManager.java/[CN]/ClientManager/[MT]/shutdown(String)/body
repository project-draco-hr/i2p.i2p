{
  _isStarted=false;
  _log.info("Shutting down the ClientManager");
  if (_listener != null)   _listener.stopListening();
  Set<ClientConnectionRunner> runners=new HashSet<ClientConnectionRunner>();
synchronized (_runners) {
    for (    ClientConnectionRunner runner : _runners.values()) {
      runners.add(runner);
    }
  }
synchronized (_pendingRunners) {
    for (    ClientConnectionRunner runner : _pendingRunners) {
      runners.add(runner);
    }
  }
  for (  ClientConnectionRunner runner : runners) {
    runner.disconnectClient(msg,Log.WARN);
  }
  _runnersByHash.clear();
}
