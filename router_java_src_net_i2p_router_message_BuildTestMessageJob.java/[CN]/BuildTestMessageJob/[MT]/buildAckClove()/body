{
  PayloadGarlicConfig ackClove=new PayloadGarlicConfig();
  DeliveryInstructions ackInstructions=new DeliveryInstructions();
  ackInstructions.setDeliveryMode(DeliveryInstructions.DELIVERY_MODE_ROUTER);
  ackInstructions.setRouter(_replyTo);
  ackInstructions.setDelayRequested(false);
  ackInstructions.setDelaySeconds(0);
  ackInstructions.setEncrypted(false);
  DeliveryStatusMessage msg=new DeliveryStatusMessage();
  msg.setArrival(new Date(Clock.getInstance().now()));
  msg.setMessageId(_testMessageKey);
  if (_log.shouldLog(Log.DEBUG))   _log.debug("Delivery status message key: " + _testMessageKey + " arrival: "+ msg.getArrival());
  ackClove.setCertificate(new Certificate(Certificate.CERTIFICATE_TYPE_NULL,null));
  ackClove.setDeliveryInstructions(ackInstructions);
  ackClove.setExpiration(_timeoutMs + Clock.getInstance().now());
  ackClove.setId(RandomSource.getInstance().nextInt(Integer.MAX_VALUE));
  ackClove.setPayload(msg);
  ackClove.setRecipient(_target);
  ackClove.setRequestAck(false);
  return ackClove;
}
