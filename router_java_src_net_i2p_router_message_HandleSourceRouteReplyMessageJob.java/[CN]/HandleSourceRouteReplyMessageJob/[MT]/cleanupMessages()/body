{
  List toRemove=new ArrayList(32);
  long now=Clock.getInstance().now() - Router.CLOCK_FUDGE_FACTOR;
synchronized (_seenMessages) {
    for (Iterator iter=_seenMessages.keySet().iterator(); iter.hasNext(); ) {
      Long id=(Long)iter.next();
      Date exp=(Date)_seenMessages.get(id);
      if (now > exp.getTime())       toRemove.add(id);
    }
    for (int i=0; i < toRemove.size(); i++)     _seenMessages.remove(toRemove.get(i));
  }
}
