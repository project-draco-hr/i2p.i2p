{
synchronized (_seenMessages) {
    if (_seenMessages.containsKey(new Long(msgId)))     return false;
    _seenMessages.put(new Long(msgId),new Date(expiration));
  }
  if ((msgId % 10) == 0) {
    cleanupMessages();
  }
  return true;
}
