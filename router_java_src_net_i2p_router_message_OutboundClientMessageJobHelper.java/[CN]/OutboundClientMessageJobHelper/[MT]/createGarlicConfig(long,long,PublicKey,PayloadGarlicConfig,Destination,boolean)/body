{
  _log.debug("Reply token: " + replyToken);
  GarlicConfig config=new GarlicConfig();
  config.addClove(dataClove);
  if (requireAck) {
    PayloadGarlicConfig ackClove=buildAckClove(replyToken,expiration);
    config.addClove(ackClove);
  }
  DeliveryInstructions instructions=new DeliveryInstructions();
  instructions.setDeliveryMode(DeliveryInstructions.DELIVERY_MODE_LOCAL);
  instructions.setDelayRequested(false);
  instructions.setDelaySeconds(0);
  instructions.setEncrypted(false);
  instructions.setEncryptionKey(null);
  instructions.setRouter(null);
  instructions.setTunnelId(null);
  config.setCertificate(new Certificate(Certificate.CERTIFICATE_TYPE_NULL,null));
  config.setDeliveryInstructions(instructions);
  config.setId(RandomSource.getInstance().nextInt(Integer.MAX_VALUE));
  config.setExpiration(expiration + 2 * Router.CLOCK_FUDGE_FACTOR);
  config.setRecipientPublicKey(recipientPK);
  config.setRequestAck(false);
  _log.info("Creating garlic config to be encrypted to " + recipientPK + " for destination "+ dest.calculateHash().toBase64());
  return config;
}
