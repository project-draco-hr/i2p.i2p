{
  long sendTime=getContext().clock().now() - _start;
  if (_log.shouldLog(Log.INFO))   _log.info(OutboundClientMessageOneShotJob.this.getJobId() + ": SUCCESS!  msg " + _clientMessageId+ " sent after "+ sendTime+ "ms");
  if ((_key != null) && (_tags != null) && (_tags.size() > 0)) {
    if (_leaseSet != null)     getContext().sessionKeyManager().tagsDelivered(_leaseSet.getEncryptionKey(),_key,_tags);
  }
  long dataMsgId=_cloveId;
  getContext().messageHistory().sendPayloadMessage(dataMsgId,true,sendTime);
  getContext().clientManager().messageDeliveryStatusUpdate(_from,_clientMessageId,true);
  _lease.setNumSuccess(_lease.getNumSuccess() + 1);
  getContext().statManager().addRateData("client.sendAckTime",sendTime,0);
  getContext().statManager().addRateData("client.sendMessageSize",_clientMessageSize,sendTime);
}
