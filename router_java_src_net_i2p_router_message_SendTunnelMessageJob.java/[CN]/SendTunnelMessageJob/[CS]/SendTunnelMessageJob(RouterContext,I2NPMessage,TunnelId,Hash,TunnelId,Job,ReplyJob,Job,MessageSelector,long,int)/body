{
  super(ctx);
  _log=ctx.logManager().getLog(SendTunnelMessageJob.class);
  if (msg == null)   throw new IllegalArgumentException("wtf, null message?  sod off");
  _message=msg;
  _destRouter=targetRouter;
  _tunnelId=tunnelId;
  _targetTunnelId=targetTunnelId;
  _onSend=onSend;
  _onReply=onReply;
  _onFailure=onFailure;
  _selector=selector;
  _timeout=timeoutMs;
  _priority=priority;
  if (timeoutMs < 50 * 1000) {
    if (_log.shouldLog(Log.INFO))     _log.info("Sending tunnel message to expire in " + timeoutMs + "ms containing "+ msg.getUniqueId()+ " (a "+ msg.getClass().getName()+ ")",new Exception("SendTunnel from"));
  }
  _expiration=_context.clock().now() + timeoutMs;
}
