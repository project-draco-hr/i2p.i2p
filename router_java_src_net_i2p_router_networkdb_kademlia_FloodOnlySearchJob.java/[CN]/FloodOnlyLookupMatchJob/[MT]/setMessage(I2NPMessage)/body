{
  if (message instanceof DatabaseSearchReplyMessage) {
    _search.failed();
    return;
  }
  try {
    DatabaseStoreMessage dsm=(DatabaseStoreMessage)message;
    if (dsm.getValueType() == DatabaseStoreMessage.KEY_TYPE_LEASESET)     getContext().netDb().store(dsm.getKey(),dsm.getLeaseSet());
 else     getContext().netDb().store(dsm.getKey(),dsm.getRouterInfo());
  }
 catch (  IllegalArgumentException iae) {
    if (_log.shouldLog(Log.WARN))     _log.warn(_search.getJobId() + ": Received an invalid store reply",iae);
  }
}
