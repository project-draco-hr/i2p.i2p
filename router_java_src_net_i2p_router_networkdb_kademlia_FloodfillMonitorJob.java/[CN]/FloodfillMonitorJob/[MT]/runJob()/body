{
  boolean wasFF=_facade.floodfillEnabled();
  boolean ff=shouldBeFloodfill();
  _facade.setFloodfillEnabled(ff);
  if (ff != wasFF) {
    if (ff) {
      getContext().router().eventLog().addEvent(EventLog.BECAME_FLOODFILL);
    }
 else {
      getContext().router().eventLog().addEvent(EventLog.NOT_FLOODFILL);
    }
    getContext().router().rebuildRouterInfo();
  }
  if (_log.shouldLog(Log.INFO))   _log.info("Should we be floodfill? " + ff);
  int delay=(REQUEUE_DELAY / 2) + getContext().random().nextInt(REQUEUE_DELAY);
  if (!ff)   delay*=4;
  requeue(delay);
}
