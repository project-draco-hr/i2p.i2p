{
  if (_floodfillEnabled) {
    _floodfillEnabled=false;
    _context.router().rebuildRouterInfo(true);
    RouterInfo local=_context.router().getRouterInfo();
    if (local != null && _context.router().getUptime() > PUBLISH_JOB_DELAY) {
      flood(local);
      try {
        Thread.sleep(3000);
      }
 catch (      InterruptedException ie) {
      }
    }
  }
  super.shutdown();
}
