{
  super(ctx,facade,key,onFind,onFailed,timeoutMs,isLease);
  _timeoutMs=Math.min(timeoutMs,MAX_SEARCH_TIME);
  _expiration=_timeoutMs + ctx.clock().now();
  _rkey=ctx.routingKeyGenerator().getRoutingKey(key);
  _toTry=new TreeSet<Hash>(new XORComparator<Hash>(_rkey));
  _unheardFrom=new HashSet<Hash>(CONCURRENT_SEARCHES);
  _failedPeers=new HashSet<Hash>(TOTAL_SEARCH_LIMIT);
  _sentTime=new ConcurrentHashMap<Hash,Long>(TOTAL_SEARCH_LIMIT);
  _fromLocalDest=fromLocalDest;
  if (fromLocalDest != null && !isLease && _log.shouldLog(Log.WARN))   _log.warn("Search for RI " + key + " down client tunnel "+ fromLocalDest,new Exception());
}
