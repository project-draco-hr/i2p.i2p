{
  if (!_initialized)   return;
  boolean isRouterInfo=false;
  Object o=_ds.get(dbEntry);
  if (o instanceof RouterInfo)   isRouterInfo=true;
  if (isRouterInfo) {
    if (((RouterInfo)o).getNetworkId() != Router.NETWORK_ID) {
    }
 else {
      int remaining=_kb.size();
      if (remaining < MIN_REMAINING_ROUTERS) {
        if (_log.shouldLog(Log.WARN))         _log.warn("Not removing " + dbEntry + " because we have so few routers left ("+ remaining+ ") - perhaps a reseed is necessary?");
        return;
      }
      if (System.currentTimeMillis() < _started + DONT_FAIL_PERIOD) {
        if (_log.shouldLog(Log.WARN))         _log.warn("Not failing the key " + dbEntry.toBase64() + " since we've just started up and don't want to drop /everyone/");
        return;
      }
    }
    lookupBeforeDropping(dbEntry,(RouterInfo)o);
    return;
  }
 else {
    if (_log.shouldLog(Log.INFO))     _log.info("Dropping a lease: " + dbEntry);
  }
  if (o == null) {
    _kb.remove(dbEntry);
    _context.peerManager().removeCapabilities(dbEntry);
  }
  if (isRouterInfo)   _ds.remove(dbEntry);
 else   _ds.removeLease(dbEntry);
synchronized (_lastSent) {
    _lastSent.remove(dbEntry);
  }
synchronized (_explicitSendKeys) {
    _explicitSendKeys.remove(dbEntry);
  }
synchronized (_passiveSendKeys) {
    _passiveSendKeys.remove(dbEntry);
  }
}
