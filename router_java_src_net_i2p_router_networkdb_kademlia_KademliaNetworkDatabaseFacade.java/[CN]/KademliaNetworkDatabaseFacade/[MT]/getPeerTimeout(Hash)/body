{
  PeerProfile prof=_context.profileOrganizer().getProfile(peer);
  double responseTime=MAX_PER_PEER_TIMEOUT;
  if (prof != null && prof.getIsExpandedDB()) {
    responseTime=prof.getDbResponseTime().getLifetimeAverageValue();
    if (responseTime < MIN_PER_PEER_TIMEOUT)     responseTime=MIN_PER_PEER_TIMEOUT;
 else     if (responseTime > MAX_PER_PEER_TIMEOUT)     responseTime=MAX_PER_PEER_TIMEOUT;
  }
  return 4 * (int)responseTime;
}
