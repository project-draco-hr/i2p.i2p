{
  int routerCount=0;
  try {
    File dbDir=getDbDir();
    if (getContext().router().getUptime() < 10 * 60 * 1000) {
      File leaseSetFiles[]=dbDir.listFiles(LeaseSetFilter.getInstance());
      if (leaseSetFiles != null) {
        for (int i=0; i < leaseSetFiles.length; i++) {
          Hash key=getLeaseSetHash(leaseSetFiles[i].getName());
          if ((key != null) && (!isKnown(key)))           PersistentDataStore.this._context.jobQueue().addJob(new ReadLeaseJob(leaseSetFiles[i],key));
        }
      }
    }
    File routerInfoFiles[]=dbDir.listFiles(RouterInfoFilter.getInstance());
    if (routerInfoFiles != null) {
      routerCount+=routerInfoFiles.length;
      if (routerInfoFiles.length > 5)       _alreadyWarned=false;
      for (int i=0; i < routerInfoFiles.length; i++) {
        Hash key=getRouterInfoHash(routerInfoFiles[i].getName());
        if ((key != null) && (!isKnown(key)))         PersistentDataStore.this._context.jobQueue().addJob(new ReadRouterJob(routerInfoFiles[i],key));
      }
    }
  }
 catch (  IOException ioe) {
    _log.error("Error reading files in the db dir",ioe);
  }
  if ((routerCount <= 5) && (!_alreadyWarned)) {
    _log.error("Very few routerInfo files remaining - please reseed");
    _alreadyWarned=true;
  }
}
