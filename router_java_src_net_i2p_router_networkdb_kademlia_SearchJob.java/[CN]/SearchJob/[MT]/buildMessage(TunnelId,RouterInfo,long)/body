{
  DatabaseLookupMessage msg=new DatabaseLookupMessage(getContext());
  msg.setSearchKey(_state.getTarget());
  msg.setFrom(replyGateway.getIdentity().getHash());
  msg.setDontIncludePeers(_state.getAttempted());
  msg.setMessageExpiration(new Date(expiration));
  msg.setReplyTunnel(replyTunnelId);
  return msg;
}
