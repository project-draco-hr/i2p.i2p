{
  if (msg.getValueType() == DatabaseStoreMessage.KEY_TYPE_LEASESET) {
    getContext().statManager().addRateData("netDb.storeLeaseSetSent",1,0);
    if (getContext().keyRing().get(msg.getKey()) != null)     sendStoreThroughGarlic(msg,peer,expiration);
 else     sendStoreThroughClient(msg,peer,expiration);
  }
 else {
    getContext().statManager().addRateData("netDb.storeRouterInfoSent",1,0);
    sendDirect(msg,peer,expiration);
  }
}
