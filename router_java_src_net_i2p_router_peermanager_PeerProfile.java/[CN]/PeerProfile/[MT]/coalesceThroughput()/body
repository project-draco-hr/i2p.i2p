{
  long now=System.currentTimeMillis();
  long measuredPeriod=now - _lastCoalesceDate;
  if (measuredPeriod >= 60 * 1000) {
    long tot=_peakThroughputCurrentTotal;
    double peak=_peakThroughput;
    if (tot >= peak)     _peakThroughput=tot;
    _peakThroughputCurrentTotal=0;
    if ((tot > 0) && _log.shouldLog(Log.WARN))     _log.warn("updating throughput after " + tot + " to "+ (_peakThroughput / 60d)+ " for "+ _peer.toBase64());
    _lastCoalesceDate=now;
  }
}
