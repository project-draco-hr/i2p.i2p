{
  Set peers=new HashSet(numPeers);
  _context.profileOrganizer().selectFastAndReliablePeers(numPeers,null,peers);
  Properties props=new Properties();
  for (Iterator iter=peers.iterator(); iter.hasNext(); ) {
    Hash peer=(Hash)iter.next();
    PeerProfile prof=getProfile(peer);
    if (prof == null)     continue;
    StringBuffer buf=new StringBuffer(64);
    buf.append("status: ");
    if (_context.profileOrganizer().isFastAndReliable(peer)) {
      buf.append("fastReliable");
    }
 else     if (_context.profileOrganizer().isReliable(peer)) {
      buf.append("reliable");
    }
 else     if (_context.profileOrganizer().isFailing(peer)) {
      buf.append("failing");
    }
 else {
      buf.append("notFailing");
    }
    if (_context.profileOrganizer().isWellIntegrated(peer))     buf.append("Integrated ");
 else     buf.append(" ");
    buf.append("reliability: ").append(num(prof.getReliabilityValue())).append(" ");
    buf.append("speed: ").append(num(prof.getSpeedValue())).append(" ");
    buf.append("integration: ").append(num(prof.getIntegrationValue()));
    props.setProperty("profile." + peer.toBase64().replace('=','_'),buf.toString());
  }
  return props;
}
