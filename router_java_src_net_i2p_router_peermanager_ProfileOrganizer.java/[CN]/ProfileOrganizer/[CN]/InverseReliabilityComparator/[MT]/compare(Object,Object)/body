{
  if ((lhs == null) || (rhs == null) || (!(lhs instanceof PeerProfile))|| (!(rhs instanceof PeerProfile)))   throw new ClassCastException("Only profiles can be compared - lhs = " + lhs + " rhs = "+ rhs);
  PeerProfile left=(PeerProfile)lhs;
  PeerProfile right=(PeerProfile)rhs;
  int diff=(int)(right.getReliabilityValue() - left.getReliabilityValue());
  if (diff != 0)   return diff;
  if (left.getPeer().equals(right.getPeer()))   return 0;
 else   return DataHelper.compareTo(right.getPeer().getData(),left.getPeer().getData());
}
