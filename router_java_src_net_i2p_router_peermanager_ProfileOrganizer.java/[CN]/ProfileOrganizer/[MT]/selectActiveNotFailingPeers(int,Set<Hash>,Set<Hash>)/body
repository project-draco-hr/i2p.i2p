{
  if (matches.size() < howMany) {
    getReadLock();
    try {
      for (Iterator<Hash> iter=_notFailingPeers.keySet().iterator(); iter.hasNext(); ) {
        Hash peer=iter.next();
        if (!_context.commSystem().isEstablished(peer))         exclude.add(peer);
      }
      locked_selectPeers(_notFailingPeers,howMany,exclude,matches,0);
    }
  finally {
      releaseReadLock();
    }
  }
}
