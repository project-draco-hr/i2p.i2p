{
  if ((lhs == null) || (rhs == null))   throw new NullPointerException("lhs=" + lhs + " rhs="+ rhs);
  if (!(lhs instanceof PeerProfile) || !(rhs instanceof PeerProfile))   throw new ClassCastException("lhs=" + lhs.getClass().getName() + " rhs="+ rhs.getClass().getName());
  PeerProfile left=(PeerProfile)lhs;
  PeerProfile right=(PeerProfile)rhs;
  if (_context.profileOrganizer().isFast(left.getPeer())) {
    if (_context.profileOrganizer().isFast(right.getPeer())) {
      return compareHashes(left,right);
    }
 else {
      return -1;
    }
  }
 else   if (_context.profileOrganizer().isHighCapacity(left.getPeer())) {
    if (_context.profileOrganizer().isFast(right.getPeer())) {
      return 1;
    }
 else     if (_context.profileOrganizer().isHighCapacity(right.getPeer())) {
      return compareHashes(left,right);
    }
 else {
      return -1;
    }
  }
 else   if (_context.profileOrganizer().isFailing(left.getPeer())) {
    if (_context.profileOrganizer().isFailing(right.getPeer())) {
      return compareHashes(left,right);
    }
 else {
      return 1;
    }
  }
 else {
    if (_context.profileOrganizer().isFast(right.getPeer())) {
      return 1;
    }
 else     if (_context.profileOrganizer().isHighCapacity(right.getPeer())) {
      return 1;
    }
 else     if (_context.profileOrganizer().isFailing(right.getPeer())) {
      return -1;
    }
 else {
      return compareHashes(left,right);
    }
  }
}
