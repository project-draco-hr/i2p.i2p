{
  String clientConfigFile=ctx.getProperty(PROP_CLIENT_CONFIG_FILENAME,DEFAULT_CLIENT_CONFIG_FILENAME);
  File cfgFile=new File(clientConfigFile);
  if (!cfgFile.isAbsolute())   cfgFile=new File(ctx.getConfigDir(),clientConfigFile);
  FileOutputStream fos=null;
  try {
    fos=new FileOutputStream(cfgFile);
    StringBuilder buf=new StringBuilder(2048);
    for (int i=0; i < apps.size(); i++) {
      ClientAppConfig app=(ClientAppConfig)apps.get(i);
      buf.append(PREFIX).append(i).append(".main=").append(app.className).append("\n");
      buf.append(PREFIX).append(i).append(".name=").append(app.clientName).append("\n");
      buf.append(PREFIX).append(i).append(".args=").append(app.args).append("\n");
      buf.append(PREFIX).append(i).append(".delay=").append(app.delay / 1000).append("\n");
      buf.append(PREFIX).append(i).append(".startOnLoad=").append(!app.disabled).append("\n");
    }
    fos.write(buf.toString().getBytes());
  }
 catch (  IOException ioe) {
  }
 finally {
    if (fos != null)     try {
      fos.close();
    }
 catch (    IOException ioe) {
    }
  }
}
