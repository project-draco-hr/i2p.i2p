{
  long skip=in.skip(numBytes);
  FIFOBandwidthLimiter.Request req=null;
  if (_pullFromOutbound)   req=_context.bandwidthLimiter().requestOutbound((int)skip,_peerSource);
 else   req=_context.bandwidthLimiter().requestInbound((int)skip,_peerSource);
  while ((req.getPendingInboundRequested() > 0) || (req.getPendingOutboundRequested() > 0)) {
    req.waitForNextAllocation();
  }
  return skip;
}
