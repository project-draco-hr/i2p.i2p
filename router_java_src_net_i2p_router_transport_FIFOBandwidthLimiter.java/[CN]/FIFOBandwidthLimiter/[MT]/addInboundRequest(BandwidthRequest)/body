{
synchronized (_pendingInboundRequests) {
    if ((_pendingInboundRequests.size() <= 0) && ((request.getRequestedInboundBytes() <= _availableInboundBytes) || (_inboundUnlimited))) {
      if (!_inboundUnlimited)       _availableInboundBytes-=request.getRequestedInboundBytes();
      _totalAllocatedInboundBytes+=request.getRequestedInboundBytes();
      if (_log.shouldLog(Log.INFO))       _log.info("Granting inbound request " + request.getRequestName() + " immediately for "+ request.getRequestedInboundBytes());
      request.grantRequest();
      return;
    }
 else {
      _pendingInboundRequests.add(request);
    }
  }
synchronized (request.getAvailabilityMonitor()) {
    while (!request.alreadyGranted()) {
      try {
        request.getAvailabilityMonitor().wait();
      }
 catch (      InterruptedException ie) {
      }
    }
  }
}
