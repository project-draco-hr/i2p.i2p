{
  if (_msg.getOnFailedSendJob() != null) {
    JobQueue.getInstance().addJob(_msg.getOnFailedSendJob());
  }
  if (_msg.getOnFailedReplyJob() != null) {
    JobQueue.getInstance().addJob(_msg.getOnFailedReplyJob());
  }
  MessageSelector selector=_msg.getReplySelector();
  if (selector != null) {
    OutboundMessageRegistry.getInstance().unregisterPending(_msg);
  }
  ProfileManager.getInstance().messageFailed(_msg.getTarget().getIdentity().getHash());
}
