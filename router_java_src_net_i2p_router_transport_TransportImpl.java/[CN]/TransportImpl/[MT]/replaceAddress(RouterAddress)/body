{
synchronized (_currentAddresses) {
    Set addresses=_currentAddresses;
    List toRemove=null;
    for (Iterator iter=addresses.iterator(); iter.hasNext(); ) {
      RouterAddress cur=(RouterAddress)iter.next();
      if (getStyle().equals(cur.getTransportStyle())) {
        if (toRemove == null)         toRemove=new ArrayList(1);
        toRemove.add(cur);
      }
    }
    if (toRemove != null) {
      for (int i=0; i < toRemove.size(); i++) {
        addresses.remove(toRemove.get(i));
      }
    }
    _currentAddresses.add(address);
  }
}
