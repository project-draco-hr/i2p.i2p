{
  while (true) {
    try {
synchronized (_updateBwLock) {
        _updateBwLock.wait(_replenishFrequency);
      }
    }
 catch (    InterruptedException ie) {
    }
    try {
      updateBW();
      if (_context.clock().now() > _lastUpdateLimits + UPDATE_LIMIT_FREQUENCY)       updateLimits();
    }
 catch (    Exception e) {
      _log.log(Log.CRIT,"Error updating bandwidth!",e);
    }
  }
}
