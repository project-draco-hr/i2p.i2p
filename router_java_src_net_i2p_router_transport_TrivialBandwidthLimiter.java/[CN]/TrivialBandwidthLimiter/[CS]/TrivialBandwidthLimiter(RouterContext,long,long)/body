{
  super(ctx);
  _log=ctx.logManager().getLog(TrivialBandwidthLimiter.class);
  _maxReceiveBytesPerMinute=receivePerMinute;
  _maxSendBytesPerMinute=sendPerMinute;
  _lastResync=ctx.clock().now();
  _lastReadConfig=_lastResync;
  _totalReceiveBytes=0;
  _totalSendBytes=0;
  _availableReceive=receivePerMinute;
  _availableSend=sendPerMinute;
  MAX_IN_POOL=10 * _availableReceive;
  MAX_OUT_POOL=10 * _availableSend;
  _context.jobQueue().addJob(new UpdateBWJob());
  updateLimits();
  _log.info("Initializing the limiter with maximum inbound [" + MAX_IN_POOL + "] outbound ["+ MAX_OUT_POOL+ "]");
}
