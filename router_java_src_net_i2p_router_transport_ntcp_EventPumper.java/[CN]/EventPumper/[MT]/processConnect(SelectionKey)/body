{
  NTCPConnection con=(NTCPConnection)key.attachment();
  try {
    SocketChannel chan=con.getChannel();
    boolean connected=chan.finishConnect();
    if (_log.shouldLog(Log.DEBUG))     _log.debug("processing connect for " + key + " / "+ con+ ": connected? "+ connected);
    if (connected) {
      con.setKey(key);
      con.outboundConnected();
      _context.statManager().addRateData("ntcp.connectSuccessful",1,0);
    }
 else {
      con.close();
      _context.statManager().addRateData("ntcp.connectFailedTimeout",1,0);
    }
  }
 catch (  IOException ioe) {
    if (_log.shouldLog(Log.DEBUG))     _log.debug("Error processing connection",ioe);
    con.close();
    _context.statManager().addRateData("ntcp.connectFailedTimeoutIOE",1,0);
  }
catch (  NoConnectionPendingException ncpe) {
  }
}
