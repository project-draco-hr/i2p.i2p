{
  ByteBuffer buf=ByteBuffer.wrap(data);
  FIFOBandwidthLimiter.Request req=_context.bandwidthLimiter().requestOutbound(data.length,"NTCP write",null,null);
  if (req.getPendingOutboundRequested() > 0) {
    if (_log.shouldLog(Log.INFO))     _log.info("queued write on " + con + " for "+ data.length);
    con.queuedWrite(buf,req);
  }
 else {
    if (_log.shouldLog(Log.INFO))     _log.info("fully allocated write on " + con + " for "+ data.length);
    con.write(buf);
  }
}
