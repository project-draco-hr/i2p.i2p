{
  _context=ctx;
  _log=ctx.logManager().getLog(getClass());
  _created=System.currentTimeMillis();
  _transport=transport;
  _chan=chan;
  _readBufs=new ConcurrentLinkedQueue();
  _writeBufs=new ConcurrentLinkedQueue();
  _bwInRequests=new ConcurrentHashSet(2);
  _bwOutRequests=new ConcurrentHashSet(8);
  _outbound=new CoDelPriorityBlockingQueue(ctx,"NTCP-Connection",32);
  _isInbound=true;
  _decryptBlockBuf=new byte[BLOCK_SIZE];
  _curReadState=new ReadState();
  _establishState=new EstablishState(ctx,transport,this);
  _conKey=key;
  _conKey.attach(this);
  _inboundListener=new InboundListener();
  _outboundListener=new OutboundListener();
  initialize();
}
