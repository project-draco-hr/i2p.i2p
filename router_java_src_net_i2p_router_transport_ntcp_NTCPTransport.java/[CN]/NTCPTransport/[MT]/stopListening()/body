{
  if (_log.shouldLog(Log.DEBUG))   _log.debug("Stopping ntcp transport");
  _pumper.stopPumping();
  _writer.stopWriting();
  _reader.stopReading();
  _finisher.stop();
  Map cons=null;
synchronized (_conLock) {
    cons=new HashMap(_conByIdent);
    _conByIdent.clear();
  }
  for (Iterator iter=cons.values().iterator(); iter.hasNext(); ) {
    NTCPConnection con=(NTCPConnection)iter.next();
    con.close();
  }
  replaceAddress(null);
}
