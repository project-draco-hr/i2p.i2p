{
  _id=++_idCounter;
  _weInitiated=locallyInitiated;
  _closed=false;
  _socket=s;
  _myIdentity=myIdent;
  _signingKey=signingKey;
  _created=-1;
  _toBeSent=new ArrayList();
  try {
    _in=_socket.getInputStream();
    _out=_socket.getOutputStream();
  }
 catch (  IOException ioe) {
    _log.error("Error getting streams for the connection",ioe);
  }
  _builder=new DHSessionKeyBuilder();
  _extraBytes=null;
  _lastSliceRun=-1;
  _log.info("Connected with peer: " + s.getInetAddress() + ":"+ s.getPort());
  updateMaxQueuedMessages();
}
