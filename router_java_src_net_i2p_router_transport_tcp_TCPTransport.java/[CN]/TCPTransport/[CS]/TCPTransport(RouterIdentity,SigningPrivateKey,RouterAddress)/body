{
  super();
  _listeners=new ArrayList();
  _connections=new HashMap();
  _msgs=new HashMap();
  _myIdentity=myIdentity;
  _address=address;
  _signingKey=signingKey;
  if (address != null) {
    _listenHost=address.getOptions().getProperty(TCPAddress.PROP_HOST);
    String portStr=address.getOptions().getProperty(TCPAddress.PROP_PORT);
    try {
      _listenPort=Integer.parseInt(portStr);
    }
 catch (    NumberFormatException nfe) {
      _log.error("Invalid port: " + portStr + " Address: \n"+ address,nfe);
    }
  }
  _listenAddressIsValid=false;
  try {
    _listenAddressIsValid=Boolean.TRUE.toString().equalsIgnoreCase(Router.getInstance().getConfigSetting(PROP_LISTEN_IS_VALID));
  }
 catch (  Throwable t) {
    _listenAddressIsValid=false;
    if (_log.shouldLog(Log.WARN))     _log.warn("Unable to determine whether TCP listening address is valid, so we're assuming it isn't.  Set " + PROP_LISTEN_IS_VALID + " otherwise");
  }
  _running=false;
}
