{
  String addr=_context.getProperty(LISTEN_ADDRESS);
  int port=getPort();
  if ((addr == null) || (addr.trim().length() <= 0)) {
    if (_log.shouldLog(Log.ERROR))     _log.error("External address is not specified - autodetecting IP (be sure to forward port " + port + ")");
    return;
  }
  if (port != -1) {
    TCPAddress address=new TCPAddress(addr,port);
    boolean ok=allowAddress(address);
    if (ok) {
      _myAddress=address;
    }
 else {
      if (_log.shouldLog(Log.ERROR))       _log.error("External address " + addr + " is not valid");
    }
  }
 else {
    if (_log.shouldLog(Log.ERROR))     _log.error("External port is not valid");
  }
}
