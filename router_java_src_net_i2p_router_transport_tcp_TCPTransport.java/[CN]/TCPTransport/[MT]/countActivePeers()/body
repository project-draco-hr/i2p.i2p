{
  int numActive=0;
  int numInactive=0;
synchronized (_connectionLock) {
    if (_connectionsByIdent.size() <= 0)     return 0;
    for (Iterator iter=_connectionsByIdent.values().iterator(); iter.hasNext(); ) {
      TCPConnection con=(TCPConnection)iter.next();
      if (con.getIsActive())       numActive++;
 else       numInactive++;
    }
  }
  if ((numInactive > 0) && (_log.shouldLog(Log.DEBUG)))   _log.debug("Inactive peers: " + numInactive + " active: "+ numActive);
  return numActive;
}
