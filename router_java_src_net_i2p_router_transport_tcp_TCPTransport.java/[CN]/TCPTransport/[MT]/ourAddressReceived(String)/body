{
  if (allowAddressUpdate()) {
    int port=getPort();
    TCPAddress addr=new TCPAddress(address,port);
    if (addr.getPort() > 0) {
      if (allowAddress(addr)) {
        if (_myAddress != null) {
          if (addr.getAddress().equals(_myAddress.getAddress())) {
            return;
          }
        }
        if (_log.shouldLog(Log.INFO))         _log.info("Update our local address to " + address);
        updateAddress(addr);
      }
    }
 else {
      if (_log.shouldLog(Log.ERROR))       _log.error("Address specified is not valid [" + address + ":"+ port+ "]");
    }
  }
}
