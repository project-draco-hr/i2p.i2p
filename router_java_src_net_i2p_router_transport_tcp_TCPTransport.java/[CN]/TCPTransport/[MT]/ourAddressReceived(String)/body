{
  if (_log.shouldLog(Log.DEBUG))   _log.debug("Address received [" + address + "] our address: ["+ _myAddress+ "]");
synchronized (_listener) {
    if (allowAddressUpdate(address)) {
      int port=getPort();
      TCPAddress addr=new TCPAddress(address,port);
      if (addr.getPort() > 0) {
        if (allowAddress(addr)) {
          if (_myAddress != null) {
            if (addr.getAddress().equals(_myAddress.getAddress())) {
              if (_log.shouldLog(Log.INFO))               _log.info("Not updating our local address, as it hasnt changed from " + address);
              return;
            }
          }
          if (_log.shouldLog(Log.INFO))           _log.info("Update our local address to " + address);
          updateAddress(addr);
        }
 else {
          if (_log.shouldLog(Log.WARN))           _log.warn("Address received is NOT a valid address! [" + addr + "]");
        }
      }
 else {
        if (_log.shouldLog(Log.ERROR))         _log.error("Address specified is not valid [" + address + ":"+ port+ "]");
      }
    }
 else {
      if (_log.shouldLog(Log.DEBUG))       _log.debug("Not allowing address update");
    }
  }
}
