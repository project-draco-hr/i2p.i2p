{
  while (_fragments.isAlive()) {
    PeerState peer=_fragments.getNextPeerToACK();
    if (peer != null) {
      List acks=peer.retrieveACKs();
      if ((acks != null) && (acks.size() > 0)) {
        _context.statManager().addRateData("udp.sendACKCount",acks.size(),0);
        _context.statManager().getStatLog().addData(peer.getRemoteHostString(),"udp.peer.sendACKCount",acks.size(),0);
        UDPPacket ack=_builder.buildACK(peer,acks);
        if (_log.shouldLog(Log.INFO))         _log.info("Sending ACK for " + acks);
        _transport.send(ack);
      }
    }
  }
}
