{
  state.dataReceived();
  int active=0;
  int admitted=0;
  int remaining=0;
synchronized (_outboundStates) {
    active=_outboundStates.size();
    _outboundStates.remove(state.getRemoteHostId());
    if (_queuedOutbound.size() > 0) {
      List queued=(List)_queuedOutbound.remove(state.getRemoteHostId());
      if (queued != null) {
        for (int i=0; i < queued.size(); i++)         state.addMessage((OutNetMessage)queued.get(i));
      }
      admitted=locked_admitQueued();
    }
    remaining=_queuedOutbound.size();
  }
  if (_log.shouldLog(Log.INFO))   _log.info("Outbound established completely!  yay");
  PeerState peer=handleCompletelyEstablished(state);
  notifyActivity();
  return peer;
}
