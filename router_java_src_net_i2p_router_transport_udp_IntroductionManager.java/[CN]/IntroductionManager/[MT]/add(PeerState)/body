{
  if (peer == null)   return;
  if (_log.shouldLog(Log.DEBUG))   _log.debug("Adding peer " + peer.getRemoteHostId() + ", weRelayToThemAs "+ peer.getWeRelayToThemAs()+ ", theyRelayToUsAs "+ peer.getTheyRelayToUsAs());
  if (peer.getWeRelayToThemAs() > 0)   _outbound.put(new Long(peer.getWeRelayToThemAs()),peer);
  if (peer.getTheyRelayToUsAs() > 0) {
synchronized (_inbound) {
      if (!_inbound.contains(peer))       _inbound.add(peer);
    }
  }
}
