{
  int rv=0;
  if ((_messageBuf != null) && (_fragmentSends != null)) {
    int totalSize=_messageBuf.getValid();
    int lastSize=totalSize % _fragmentSize;
    if (lastSize == 0)     lastSize=_fragmentSize;
    for (int i=0; i < _fragmentSends.length; i++) {
      if (_fragmentSends[i] >= (short)0) {
        if (i + 1 == _fragmentSends.length)         rv+=lastSize;
 else         rv+=_fragmentSize;
      }
    }
  }
  return rv;
}
