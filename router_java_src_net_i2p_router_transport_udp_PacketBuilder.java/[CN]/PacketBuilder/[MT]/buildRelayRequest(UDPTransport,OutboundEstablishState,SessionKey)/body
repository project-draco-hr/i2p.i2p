{
  UDPAddress addr=state.getRemoteAddress();
  int count=addr.getIntroducerCount();
  if (count <= 0)   return new UDPPacket[0];
  UDPPacket rv[]=new UDPPacket[count];
  for (int i=0; i < count; i++) {
    InetAddress iaddr=addr.getIntroducerHost(i);
    int iport=addr.getIntroducerPort(i);
    byte ikey[]=addr.getIntroducerKey(i);
    long tag=addr.getIntroducerTag(i);
    if ((ikey == null) || (iport <= 0) || (iaddr == null)|| (tag <= 0)) {
      if (_log.shouldLog(_log.WARN))       _log.warn("Cannot build a relay request to " + state.getRemoteIdentity().calculateHash().toBase64() + ", as their UDP address is invalid: addr="+ addr+ " index="+ i);
      continue;
    }
    if (transport.isValid(iaddr.getAddress()))     rv[i]=buildRelayRequest(iaddr,iport,ikey,tag,ourIntroKey,state.getIntroNonce(),true);
  }
  return rv;
}
