{
  long now=_context.clock().now();
  if (true || _retransmissionPeriodStart + 1000 <= now) {
    _packetsRetransmitted+=packets;
  }
 else {
    _packetRetransmissionRate=(int)((float)(0.9f * _packetRetransmissionRate) + (float)(0.1f * _packetsRetransmitted));
    _packetsPeriodRetransmitted=(int)_packetsRetransmitted;
    _retransmissionPeriodStart=now;
    _packetsRetransmitted=packets;
  }
  congestionOccurred();
  _context.statManager().addRateData("udp.congestedRTO",_rto,_rttDeviation);
  reduceMTU();
}
