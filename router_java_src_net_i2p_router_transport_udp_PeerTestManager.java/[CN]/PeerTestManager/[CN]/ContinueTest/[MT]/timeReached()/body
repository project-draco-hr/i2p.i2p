{
synchronized (PeerTestManager.this) {
    PeerTestState state=_currentTest;
    if (state == null) {
      return;
    }
 else     if (expired()) {
      testComplete(true);
    }
 else     if (_context.clock().now() - state.getLastSendTime() >= RESEND_TIMEOUT) {
      if (state.getReceiveBobTime() <= 0) {
        sendTestToBob();
      }
 else       if (state.getReceiveCharlieTime() <= 0) {
        sendTestToBob();
      }
 else {
        sendTestToCharlie();
      }
      _context.simpleScheduler().addEvent(ContinueTest.this,RESEND_TIMEOUT);
    }
  }
}
