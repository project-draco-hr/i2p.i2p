{
  _context=ctx;
  _log=ctx.logManager().getLog(UDPReceiver.class);
  _id=++__id;
  _name=name;
  long maxMemory=Runtime.getRuntime().maxMemory();
  if (maxMemory == Long.MAX_VALUE)   maxMemory=96 * 1024 * 1024l;
  int qsize=(int)Math.max(MIN_QUEUE_SIZE,Math.min(MAX_QUEUE_SIZE,maxMemory / (2 * 1024 * 1024)));
  _inboundQueue=new CoDelBlockingQueue(ctx,"UDP-Receiver",qsize);
  _socket=socket;
  _transport=transport;
  _runner=new Runner();
  _context.statManager().createRateStat("udp.receivePacketSize","How large packets received are","udp",UDPTransport.RATES);
  _context.statManager().createRateStat("udp.receiveRemaining","How many packets are left sitting on the receiver's queue","udp",UDPTransport.RATES);
  _context.statManager().createRateStat("udp.droppedInbound","How many packet are queued up but not yet received when we drop","udp",UDPTransport.RATES);
  _context.statManager().createRateStat("udp.receiveHolePunch","How often we receive a NAT hole punch","udp",UDPTransport.RATES);
  _context.statManager().createRateStat("udp.ignorePacketFromDroplist","Packet lifetime for those dropped on the drop list","udp",UDPTransport.RATES);
}
