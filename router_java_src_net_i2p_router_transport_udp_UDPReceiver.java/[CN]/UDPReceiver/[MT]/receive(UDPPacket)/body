{
  if (ARTIFICIAL_DROP_PROBABILITY > 0) {
    int v=_context.random().nextInt(100);
    if (v <= ARTIFICIAL_DROP_PROBABILITY) {
      if (_log.shouldLog(Log.ERROR))       _log.error("Drop with v=" + v + " p="+ ARTIFICIAL_DROP_PROBABILITY+ " packet size: "+ packet.getPacket().getLength()+ ": "+ packet);
      _context.statManager().addRateData("udp.droppedInboundProbabalistically",1,0);
      return -1;
    }
 else {
      _context.statManager().addRateData("udp.acceptedInboundProbabalistically",1,0);
    }
  }
  if ((ARTIFICIAL_DELAY > 0) || (ARTIFICIAL_DELAY_BASE > 0)) {
    long delay=ARTIFICIAL_DELAY_BASE + _context.random().nextInt(ARTIFICIAL_DELAY);
    if (_log.shouldLog(Log.INFO))     _log.info("Delay packet " + packet + " for "+ delay);
    SimpleTimer.getInstance().addEvent(new ArtificiallyDelayedReceive(packet),delay);
    return -1;
  }
  return doReceive(packet);
}
