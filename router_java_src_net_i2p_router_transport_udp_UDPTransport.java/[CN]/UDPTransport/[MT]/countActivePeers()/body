{
  long now=_context.clock().now();
  int active=0;
  int inactive=0;
synchronized (_peersByIdent) {
    for (Iterator iter=_peersByIdent.values().iterator(); iter.hasNext(); ) {
      PeerState peer=(PeerState)iter.next();
      if (now - peer.getLastReceiveTime() > 5 * 60 * 1000)       inactive++;
 else       active++;
    }
  }
  return active;
}
