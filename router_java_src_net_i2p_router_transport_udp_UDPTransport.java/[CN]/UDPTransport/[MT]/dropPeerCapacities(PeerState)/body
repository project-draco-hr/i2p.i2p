{
  RouterInfo info=_context.netDb().lookupRouterInfoLocally(peer.getRemotePeer());
  if (info != null) {
    String capacities=info.getOptions().getProperty(UDPAddress.PROP_CAPACITY);
    if (capacities != null) {
      for (int i=0; i < capacities.length(); i++) {
        char capacity=capacities.charAt(i);
        List peers=_peersByCapacity[capacity - 'A'];
synchronized (peers) {
          peers.remove(peer);
        }
      }
    }
  }
}
