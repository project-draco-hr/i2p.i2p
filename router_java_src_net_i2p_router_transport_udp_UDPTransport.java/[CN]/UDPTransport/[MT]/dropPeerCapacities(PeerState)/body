{
  RouterInfo info=_context.netDb().lookupRouterInfoLocally(peer.getRemotePeer());
  if (info != null) {
    String capacities=info.getOptions().getProperty(UDPAddress.PROP_CAPACITY);
    if (capacities != null) {
      for (int i=0; i < capacities.length(); i++) {
        char capacity=capacities.charAt(i);
        int cap=capacity - 'A';
        if ((cap < 0) || (cap >= _peersByCapacity.length))         continue;
        List peers=_peersByCapacity[cap];
synchronized (peers) {
          peers.remove(peer);
        }
      }
    }
  }
}
