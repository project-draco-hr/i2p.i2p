{
  if (_target == null) {
    _target=_context.netDb().lookupRouterInfoLocally(_config.getSendTo());
    if (_target == null) {
      ReceiveJob j=null;
      if (!alreadySearched)       j=new ReceiveJob(encrypted);
      _context.netDb().lookupRouterInfo(_config.getSendTo(),j,j,5 * 1000);
      return;
    }
  }
  TunnelDataMessage msg=new TunnelDataMessage(_context);
  msg.setData(encrypted);
  msg.setTunnelId(_config.getSendTunnel());
  OutNetMessage out=new OutNetMessage(_context);
  out.setMessage(msg);
  out.setTarget(_target);
  out.setExpiration(msg.getMessageExpiration());
  out.setPriority(400);
  _context.outNetMessagePool().add(out);
}
