{
  int numHops=8;
  int runCount=1;
  _config=prepareConfig(numHops);
  _preprocessor=new TrivialPreprocessor(_context);
  _sender=new InboundSender(_context,_config.getConfig(0));
  _receiver=new TestReceiver(_config);
  _gw=new TunnelGateway(_context,_preprocessor,_sender,_receiver);
  testSmall(runCount);
  testRouter(runCount);
  testTunnel(runCount);
  testLarge(runCount);
  try {
    Thread.sleep(5 * 1000);
  }
 catch (  Exception e) {
  }
}
