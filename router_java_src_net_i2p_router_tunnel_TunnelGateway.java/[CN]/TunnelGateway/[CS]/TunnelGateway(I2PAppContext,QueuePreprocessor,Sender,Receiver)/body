{
  _context=context;
  _log=context.logManager().getLog(TunnelGateway.class);
  _queue=new ArrayList(4);
  _preprocessor=preprocessor;
  _sender=sender;
  _receiver=receiver;
  _messagesSent=0;
  _flushFrequency=500;
  _delayedFlush=new DelayedFlush();
  _lastFlush=_context.clock().now();
}
