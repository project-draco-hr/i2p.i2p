{
  _context=ctx;
  _log=ctx.logManager().getLog(TunnelParticipant.class);
  _config=config;
  _processor=processor;
  if ((config == null) || (config.getSendTo() == null))   _handler=new RouterFragmentHandler(ctx,new DefragmentedHandler());
  _inboundEndpointProcessor=inEndProc;
  if (inEndProc != null)   _inboundDistributor=new InboundMessageDistributor(ctx,inEndProc.getDestination());
}
