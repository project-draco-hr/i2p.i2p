{
  I2PAppContext ctx=I2PAppContext.getGlobalContext();
  Log log=ctx.logManager().getLog(TunnelProcessingTest.class);
  if (true) {
    byte orig[]=new byte[16 * 1024];
    ctx.random().nextBytes(orig);
    GatewayTunnelConfig cfg=new GatewayTunnelConfig();
    for (int i=0; i < GatewayMessage.HOPS; i++) {
      cfg.setSessionKey(i,ctx.keyGenerator().generateSessionKey());
      log.debug("key[" + i + "] = "+ cfg.getSessionKey(i).toBase64());
    }
    testTunnel(ctx,orig,cfg);
  }
  if (false) {
    GatewayTunnelConfig cfg=new GatewayTunnelConfig();
    for (int i=0; i < GatewayMessage.HOPS; i++) {
      SessionKey key=new SessionKey(new byte[SessionKey.KEYSIZE_BYTES]);
      cfg.setSessionKey(i,key);
      log.debug("key[" + i + "] = "+ key.toBase64());
    }
    testTunnel(ctx,new byte[0],cfg);
  }
}
