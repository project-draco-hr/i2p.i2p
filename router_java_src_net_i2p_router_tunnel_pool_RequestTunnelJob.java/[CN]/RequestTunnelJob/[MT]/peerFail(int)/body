{
  if (howBad > 0) {
switch (howBad) {
case TunnelHistory.TUNNEL_REJECT_CRIT:
      getContext().statManager().addRateData("tunnel.receiveRejectionCritical",1,0);
    break;
case TunnelHistory.TUNNEL_REJECT_BANDWIDTH:
  getContext().statManager().addRateData("tunnel.receiveRejectionBandwidth",1,0);
break;
case TunnelHistory.TUNNEL_REJECT_TRANSIENT_OVERLOAD:
getContext().statManager().addRateData("tunnel.receiveRejectionTransient",1,0);
break;
case TunnelHistory.TUNNEL_REJECT_PROBABALISTIC_REJECT:
getContext().statManager().addRateData("tunnel.receiveRejectionProbabalistic",1,0);
break;
default :
}
getContext().profileManager().tunnelRejected(_currentPeer.getIdentity().calculateHash(),getContext().clock().now() - _lastSendTime,howBad);
}
if (_log.shouldLog(Log.INFO)) _log.info("Tunnel request failed w/ cause=" + howBad + " for peer "+ _currentPeer.getIdentity().calculateHash().toBase64().substring(0,4));
tunnelFail();
}
