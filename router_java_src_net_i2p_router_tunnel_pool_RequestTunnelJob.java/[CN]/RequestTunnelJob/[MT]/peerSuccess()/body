{
  getContext().profileManager().tunnelJoined(_currentPeer.getIdentity().calculateHash(),getContext().clock().now() - _lastSendTime);
  if (_currentHop > 0) {
    RequestTunnelJob j=new RequestTunnelJob(getContext(),_config,_onCreated,_onFailed,_currentHop - 1,_isFake,_isExploratory);
    getContext().jobQueue().addJob(j);
  }
 else {
    if (_onCreated != null)     getContext().jobQueue().addJob(_onCreated);
    if (_isExploratory)     getContext().statManager().addRateData("tunnel.buildExploratorySuccess",1,0);
 else     getContext().statManager().addRateData("tunnel.buildSuccess",1,0);
  }
}
