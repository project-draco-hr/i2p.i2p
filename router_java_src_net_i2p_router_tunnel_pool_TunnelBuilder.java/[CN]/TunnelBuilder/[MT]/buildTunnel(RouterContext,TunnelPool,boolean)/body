{
  if (!pool.isAlive()) {
    pool.getManager().buildComplete();
    return;
  }
  pool.refreshSettings();
  PooledTunnelCreatorConfig cfg=configTunnel(ctx,pool,zeroHop);
  if (cfg == null) {
    pool.getManager().buildComplete();
    return;
  }
  OnCreatedJob onCreated=new OnCreatedJob(ctx,pool,cfg);
  RetryJob onFailed=(zeroHop ? null : new RetryJob(ctx,pool));
  RequestTunnelJob req=new RequestTunnelJob(ctx,cfg,onCreated,onFailed,cfg.getLength() - 1,zeroHop,pool.getSettings().isExploratory());
  if (zeroHop || (cfg.getLength() <= 1))   req.runJob();
 else   ctx.jobQueue().addJob(req);
}
