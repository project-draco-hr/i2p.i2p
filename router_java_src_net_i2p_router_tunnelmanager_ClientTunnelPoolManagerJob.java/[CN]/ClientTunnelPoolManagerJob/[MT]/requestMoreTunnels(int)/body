{
  if (_clientPool.getClientSettings().getDepthInbound() < 1) {
    if (_log.shouldLog(Log.DEBUG))     _log.debug("0 hop tunnels wanted - create custom ones");
    requestCustomTunnels(numTunnels);
    return;
  }
  int allocated=allocateExisting(numTunnels);
  if (allocated < numTunnels) {
    if (_log.shouldLog(Log.DEBUG))     _log.debug("insufficient tunnels available (wanted: " + numTunnels + ", allocated: "+ allocated+ ", requesting custom ones");
    requestCustomTunnels(numTunnels - allocated);
  }
 else {
    if (_log.shouldLog(Log.DEBUG))     _log.debug("Sufficient tunnels exist in the client pool for " + _clientPool.getDestination().calculateHash() + " w3wt");
  }
}
