{
  TunnelInfo info=pool.getTunnelInfo(id);
  if (info == null) {
    if (_log.shouldLog(Log.ERROR))     _log.error("Tunnel " + id.getTunnelId() + " is not known");
    return true;
  }
  if (info.getSettings() == null) {
    if (_log.shouldLog(Log.ERROR))     _log.error("Tunnel " + id.getTunnelId() + " has no settings");
    return true;
  }
  if (info.getSettings().getExpiration() <= 0) {
    if (_log.shouldLog(Log.ERROR))     _log.error("Tunnel " + id.getTunnelId() + " has no expiration");
    return true;
  }
  if (info.getSettings().getExpiration() - safetyMargin <= _context.clock().now()) {
    if (_log.shouldLog(Log.DEBUG))     _log.debug("Expiration of tunnel " + id.getTunnelId() + " has almost been reached ["+ new Date(info.getSettings().getExpiration())+ "]");
    return true;
  }
 else {
    return false;
  }
}
