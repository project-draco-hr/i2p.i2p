{
  if (_log.shouldLog(Log.WARN)) {
    _log.warn("Tunnel creation timed out for tunnel " + _tunnel.getTunnelId() + " at router "+ _tunnel.getThisHop().toBase64()+ " from router "+ getContext().routerHash().toBase64()+ " after waiting "+ (getContext().clock().now() - _started)+ "ms");
    _log.warn("Added by",Failure.this.getAddedBy());
  }
synchronized (_failedTunnelParticipants) {
    _failedTunnelParticipants.add(_tunnel.getThisHop());
  }
  Failure.this.getContext().messageHistory().tunnelRequestTimedOut(_tunnel.getThisHop(),_tunnel.getTunnelId());
  long responseTime=getContext().clock().now() - _started;
  getContext().profileManager().tunnelRejected(_tunnel.getThisHop(),responseTime,false);
  getContext().profileManager().messageFailed(_tunnel.getThisHop());
  _pool.tunnelFailed(_replyTunnelId);
  _pool.tunnelFailed(_outboundTunnelId);
  Failure.this.getContext().statManager().updateFrequency("tunnel.buildFailFrequency");
  fail();
}
