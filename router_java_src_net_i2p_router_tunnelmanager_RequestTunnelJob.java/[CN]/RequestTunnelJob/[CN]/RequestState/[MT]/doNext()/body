{
  if (_createMsg == null) {
    _createMsg=buildTunnelCreate(_participant,_inboundGateway);
    return true;
  }
 else   if (_garlicMessage == null) {
    _garlicMessage=buildGarlicMessage(_createMsg,_inboundGateway,_target,_wrappedKey,_wrappedTags,_wrappedTo);
    return true;
  }
 else {
    if (_log.shouldLog(Log.INFO))     _log.info("Sending tunnel create to " + _target.getIdentity().getHash().toBase64() + " to inbound gateway "+ _inboundGateway.getGateway().toBase64()+ " : "+ _inboundGateway.getTunnelId().getTunnelId());
    ReplyJob onReply=new Success(_participant,_wrappedKey,_wrappedTags,_wrappedTo,_inboundGateway.getTunnelId(),_outboundTunnel);
    Job onFail=new Failure(_participant,_inboundGateway.getTunnelId(),_outboundTunnel);
    MessageSelector selector=new Selector(_participant);
    SendTunnelMessageJob j=new SendTunnelMessageJob(getContext(),_garlicMessage,_outboundTunnel,_target.getIdentity().getHash(),null,null,onReply,onFail,selector,_timeoutMs,PRIORITY);
    getContext().jobQueue().addJob(j);
    return false;
  }
}
