{
  if (_expiration < 0)   _expiration=_timeoutMs + _context.clock().now();
  if (_context.clock().now() > _expiration) {
    if (_log.shouldLog(Log.WARN))     _log.warn("Timeout reached building tunnel (timeout = " + _timeoutMs + " expiration = "+ new Date(_expiration)+ ")");
    fail();
    return;
  }
  TunnelInfo peer=null;
synchronized (_toBeRequested) {
    if (_toBeRequested.size() > 0) {
      _pool.addPendingTunnel(_tunnelGateway);
      peer=(TunnelInfo)_toBeRequested.remove(0);
      if ((peer == null) || (peer.getThisHop() == null)) {
        return;
      }
 else {
      }
    }
  }
  if (peer != null)   requestParticipation(peer);
}
