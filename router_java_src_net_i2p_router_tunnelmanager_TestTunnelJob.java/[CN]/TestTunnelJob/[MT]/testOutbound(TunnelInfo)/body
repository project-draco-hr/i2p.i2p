{
  if (_log.shouldLog(Log.DEBUG))   _log.debug("Testing outbound tunnel " + info);
  DeliveryStatusMessage msg=new DeliveryStatusMessage(getContext());
  msg.setArrival(new Date(getContext().clock().now()));
  msg.setMessageId(_nonce);
  Hash us=getContext().routerHash();
  _secondaryId=getReplyTunnel();
  if (_secondaryId == null) {
    getContext().jobQueue().addJob(new TestFailedJob());
    return;
  }
  TunnelInfo inboundInfo=_pool.getTunnelInfo(_secondaryId);
  inboundInfo.setLastTested(getContext().clock().now());
  long timeout=getTunnelTestTimeout();
  TestFailedJob failureJob=new TestFailedJob();
  MessageSelector selector=new TestMessageSelector(msg.getMessageId(),info.getTunnelId().getTunnelId(),timeout);
  SendTunnelMessageJob testJob=new SendTunnelMessageJob(getContext(),msg,info.getTunnelId(),us,_secondaryId,null,new TestSuccessfulJob(timeout),failureJob,selector,timeout,TEST_PRIORITY);
  getContext().jobQueue().addJob(testJob);
}
