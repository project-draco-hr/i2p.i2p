{
  if (!_isLive)   return;
  if (_log.shouldLog(Log.DEBUG))   _log.debug(toString() + ": Add free inbound tunnel " + tunnel.getTunnelId());
  _context.messageHistory().tunnelJoined("free inbound",tunnel);
synchronized (_freeInboundTunnels) {
    _freeInboundTunnels.put(tunnel.getTunnelId(),tunnel);
  }
synchronized (_pendingTunnels) {
    _pendingTunnels.remove(tunnel.getTunnelId());
  }
  if (tunnel.getDestination() != null) {
    allocateTunnel(tunnel.getTunnelId(),tunnel.getDestination());
  }
}
