{
  if (!_isLive)   return;
  if (_log.shouldLog(Log.DEBUG))   _log.debug(toString() + ": Add outbound tunnel " + tunnel.getTunnelId());
  _context.messageHistory().tunnelJoined("outbound",tunnel);
synchronized (_outboundTunnels) {
    _outboundTunnels.put(tunnel.getTunnelId(),tunnel);
  }
synchronized (_pendingTunnels) {
    _pendingTunnels.remove(tunnel.getTunnelId());
  }
}
