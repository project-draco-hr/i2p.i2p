{
  if ((info != null) && (id != null)) {
switch (id.getType()) {
case TunnelId.TYPE_INBOUND:
      _context.statManager().addRateData("tunnel.inboundMessagesProcessed",info.getMessagesProcessed(),info.getSettings().getExpiration() - info.getSettings().getCreated());
    break;
case TunnelId.TYPE_OUTBOUND:
  _context.statManager().addRateData("tunnel.outboundMessagesProcessed",info.getMessagesProcessed(),info.getSettings().getExpiration() - info.getSettings().getCreated());
break;
case TunnelId.TYPE_PARTICIPANT:
long numMsgs=info.getMessagesProcessed();
long lastAvg=(long)_context.statManager().getRate("tunnel.participatingMessagesProcessed").getRate(10 * 60 * 1000l).getAverageValue();
_context.statManager().addRateData("tunnel.participatingMessagesProcessed",numMsgs,info.getSettings().getExpiration() - info.getSettings().getCreated());
if (numMsgs > lastAvg) _context.statManager().addRateData("tunnel.participatingMessagesProcessedActive",numMsgs - lastAvg,info.getSettings().getExpiration() - info.getSettings().getCreated());
long numBytes=info.getBytesProcessed();
lastAvg=(long)_context.statManager().getRate("tunnel.participatingBytesProcessed").getRate(10 * 60 * 1000l).getAverageValue();
_context.statManager().addRateData("tunnel.participatingBytesProcessed",numBytes,numMsgs);
if (numBytes > lastAvg) _context.statManager().addRateData("tunnel.participatingBytesProcessedActive",numBytes - lastAvg,numMsgs);
break;
case TunnelId.TYPE_UNSPECIFIED:
default :
break;
}
}
}
