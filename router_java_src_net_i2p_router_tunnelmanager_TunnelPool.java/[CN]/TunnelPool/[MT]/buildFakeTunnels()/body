{
  if (getFreeValidTunnelCount() < 3) {
    if (_log.shouldLog(Log.WARN))     _log.warn("Running low on valid inbound tunnels, building another");
    TunnelInfo inTunnelGateway=TunnelBuilder.getInstance().configureInboundTunnel(null,getPoolSettings(),true);
    RequestTunnelJob inReqJob=new RequestTunnelJob(this,inTunnelGateway,true,getTunnelCreationTimeout());
    inReqJob.runJob();
  }
  if (getOutboundValidTunnelCount() < 3) {
    if (_log.shouldLog(Log.WARN))     _log.warn("Running low on valid outbound tunnels, building another");
    TunnelInfo outTunnelGateway=TunnelBuilder.getInstance().configureOutboundTunnel(getPoolSettings(),true);
    RequestTunnelJob outReqJob=new RequestTunnelJob(this,outTunnelGateway,false,getTunnelCreationTimeout());
    outReqJob.runJob();
  }
}
