{
  if (_log.shouldLog(Log.INFO))   _log.info("Starting up tunnel pool");
  _isLive=true;
  _outboundTunnels=new HashMap(16);
  _freeInboundTunnels=new HashMap(16);
  _clientPools=new HashMap(8);
  _participatingTunnels=new HashMap(64);
  _pendingTunnels=new HashMap(8);
  _poolSettings=createPoolSettings();
  _persistenceHelper.loadPool(this);
  _tunnelCreationTimeout=-1;
  try {
    String str=_context.router().getConfigSetting(TUNNEL_CREATION_TIMEOUT_PARAM);
    _tunnelCreationTimeout=Long.parseLong(str);
  }
 catch (  Throwable t) {
    _tunnelCreationTimeout=TUNNEL_CREATION_TIMEOUT_DEFAULT;
  }
  _targetClients=TARGET_CLIENTS_DEFAULT;
  try {
    String str=_context.router().getConfigSetting(TARGET_CLIENTS_PARAM);
    _targetClients=Integer.parseInt(str);
  }
 catch (  Throwable t) {
    _targetClients=TARGET_CLIENTS_DEFAULT;
  }
  buildFakeTunnels();
  _context.jobQueue().addJob(new TunnelPoolManagerJob(_context,this));
  _context.jobQueue().addJob(new TunnelPoolExpirationJob(_context,this));
}
