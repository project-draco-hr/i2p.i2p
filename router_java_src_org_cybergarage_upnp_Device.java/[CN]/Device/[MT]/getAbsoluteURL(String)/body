{
  try {
    URL url=new URL(urlString);
    return url.toString();
  }
 catch (  Exception e) {
  }
  Device rootDev=getRootDevice();
  String urlBaseStr=rootDev.getURLBase();
  if (urlBaseStr == null || urlBaseStr.length() <= 0) {
    String location=rootDev.getLocation();
    String locationHost=HTTP.getHost(location);
    int locationPort=HTTP.getPort(location);
    urlBaseStr=HTTP.getRequestHostURL(locationHost,locationPort);
  }
  urlString=HTTP.toRelativeURL(urlString);
  String absUrl=urlBaseStr + urlString;
  try {
    URL url=new URL(absUrl);
    return url.toString();
  }
 catch (  Exception e) {
  }
  absUrl=HTTP.getAbsoluteURL(urlBaseStr,urlString);
  try {
    URL url=new URL(absUrl);
    return url.toString();
  }
 catch (  Exception e) {
  }
  return "";
}
