{
  if (parserClasses == null)   throw new XmlPullParserException("Factory initialization was incomplete - has not tried " + classNamesLocation);
  if (parserClasses.size() == 0)   throw new XmlPullParserException("No valid parser classes found in " + classNamesLocation);
  final StringBuilder issues=new StringBuilder();
  for (int i=0; i < parserClasses.size(); i++) {
    final Class ppClass=(Class)parserClasses.elementAt(i);
    try {
      final XmlPullParser pp=(XmlPullParser)ppClass.newInstance();
      for (Enumeration e=features.keys(); e.hasMoreElements(); ) {
        final String key=(String)e.nextElement();
        final Boolean value=(Boolean)features.get(key);
        if (value != null && value.booleanValue()) {
          pp.setFeature(key,true);
        }
      }
      return pp;
    }
 catch (    Exception ex) {
      issues.append(ppClass.getName() + ": " + ex.toString()+ "; ");
    }
  }
  throw new XmlPullParserException("could not create parser: " + issues);
}
