{
  Properties envProps=new Properties();
  if (testNTCP)   envProps.setProperty("i2np.udp.enable","false");
 else   envProps.setProperty("i2np.ntcp.enable","false");
  envProps.setProperty("i2np.upnp.enable","false");
  envProps.setProperty("time.disabled","false");
  envProps.setProperty("i2np.allowLocal","true");
  envProps.setProperty("i2np.udp.ipv6","enable");
  envProps.setProperty("i2np.ntcp.ipv6","enable");
  envProps.setProperty("i2np.udp.host","::1");
  envProps.setProperty("i2np.ntcp.autoip","false");
  envProps.setProperty("i2np.ntcp.hostname","::1");
  String port=Integer.toString(44000 + (((int)System.currentTimeMillis()) & (16384 - 1)));
  envProps.setProperty("i2np.udp.internalPort",port);
  envProps.setProperty("i2np.udp.port",port);
  envProps.setProperty("i2np.ntcp.autoport","false");
  envProps.setProperty("i2np.ntcp.port",port);
  envProps.setProperty("i2p.dummyClientFacade","true");
  envProps.setProperty("i2p.dummyNetDb","true");
  envProps.setProperty("i2p.dummyPeerManager","true");
  envProps.setProperty("i2p.dummyTunnelManager","true");
  envProps.setProperty("router.publishPeerRankings","false");
  envProps.setProperty("loggerFilenameOverride","logs/log-router-" + port + "-@.txt");
  System.setProperty("wrapper.logfile","wrapper-" + port + ".log");
  envProps.setProperty("router.keyBackupDir","keyBackup/router-" + port);
  envProps.setProperty("router.info.location","router-" + port + ".info");
  envProps.setProperty("router.keys.location","router-" + port + ".keys");
  envProps.setProperty("router.configLocation","router-" + port + ".config");
  envProps.setProperty("router.pingFile","router-" + port + ".ping");
  envProps.setProperty("i2p.naming.impl","net.i2p.client.naming.HostsTxtNamingService");
  return envProps;
}
