{
  int runCount=1;
  List messages=new ArrayList(runCount);
  long start=_context.clock().now();
  for (int i=0; i < runCount; i++) {
    DataMessage m=getTestMessage(64);
    Hash to=new Hash(new byte[Hash.HASH_LENGTH]);
    java.util.Arrays.fill(to.getData(),(byte)0xFF);
    TunnelId tunnel=new TunnelId(42);
    byte data[]=m.toByteArray();
    messages.add(m);
    _gw.add(m,to,tunnel);
  }
  long time=_context.clock().now() - start;
  List received=_receiver.clearReceived();
  for (int i=0; i < messages.size(); i++) {
    assertTrue(received.contains(((I2NPMessage)messages.get(i))));
  }
}
